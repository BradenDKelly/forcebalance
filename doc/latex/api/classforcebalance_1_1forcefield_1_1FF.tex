\hypertarget{classforcebalance_1_1forcefield_1_1FF}{\subsection{forcebalance.\-forcefield.\-F\-F \-Class \-Reference}
\label{classforcebalance_1_1forcefield_1_1FF}\index{forcebalance.\-forcefield.\-F\-F@{forcebalance.\-forcefield.\-F\-F}}
}


\-Force field class.  




\-Inheritance diagram for forcebalance.\-forcefield.\-F\-F\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=218pt]{classforcebalance_1_1forcefield_1_1FF__inherit__graph}
\end{center}
\end{figure}


\-Collaboration diagram for forcebalance.\-forcefield.\-F\-F\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=218pt]{classforcebalance_1_1forcefield_1_1FF__coll__graph}
\end{center}
\end{figure}
\subsubsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classforcebalance_1_1forcefield_1_1FF_aef2e183571128eea70132c7be2a8dc5d}{\-\_\-\-\_\-init\-\_\-\-\_\-}
\begin{DoxyCompactList}\small\item\em \-Instantiation of force field class. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1forcefield_1_1FF_a142d41c86b9b0ef57f93ec6fb349357b}{addff}
\begin{DoxyCompactList}\small\item\em \-Parse a force field file and add it to the class. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1forcefield_1_1FF_ab4b5d5b79c89ab618ae968348bdfda3a}{addff\-\_\-txt}
\begin{DoxyCompactList}\small\item\em \-Parse a text force field and create several important instance variables. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1forcefield_1_1FF_aaed8b2b725141c301f58016c80acec27}{addff\-\_\-xml}
\begin{DoxyCompactList}\small\item\em \-Parse an \-X\-M\-L force field file and create important instance variables. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1forcefield_1_1FF_aecd595ddb369aedd7009e6756276ffc5}{make}
\begin{DoxyCompactList}\small\item\em \-Create a new force field using provided parameter values. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1forcefield_1_1FF_a0540c3df2c0dece9f2711cc04fd958d4}{make\-\_\-redirect}
\item 
def \hyperlink{classforcebalance_1_1forcefield_1_1FF_a2515e2361eb460edeab69f3d7742d3d9}{find\-\_\-spacings}
\item 
def \hyperlink{classforcebalance_1_1forcefield_1_1FF_a260031479e0429e497f56987de541930}{create\-\_\-pvals}
\begin{DoxyCompactList}\small\item\em \-Converts mathematical to physical parameters. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1forcefield_1_1FF_ae5fba4d3e22f210632ead3653e6e12dd}{create\-\_\-mvals}
\begin{DoxyCompactList}\small\item\em \-Converts physical to mathematical parameters. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1forcefield_1_1FF_a88715f96ff8e14c3c83b4f976ad147b4}{rsmake}
\begin{DoxyCompactList}\small\item\em \-Create the rescaling factors for the coordinate transformation in parameter space. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1forcefield_1_1FF_acf0ce8fc4e9fbf5257f93d14d4a4f10f}{mktransmat}
\begin{DoxyCompactList}\small\item\em \-Create the transformation matrix to rescale and rotate the mathematical parameters. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1forcefield_1_1FF_ac0046446695a65cb2489fdb560ef5929}{list\-\_\-map}
\begin{DoxyCompactList}\small\item\em \-Create the plist, which is like a reversed version of the parameter map. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1forcefield_1_1FF_a61082e99cb3a02e35c80bbea919eaafa}{print\-\_\-map}
\begin{DoxyCompactList}\small\item\em \-Prints out the (physical or mathematical) parameter indices, \-I\-Ds and values in a visually appealing way. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1forcefield_1_1FF_a3af07734a2378364ed533e2853ee6b82}{assign\-\_\-p0}
\begin{DoxyCompactList}\small\item\em \-Assign physical parameter values to the 'pvals0' array. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1forcefield_1_1FF_a2c9cda9adb5a6446fbccfa7b35f8dff5}{assign\-\_\-field}
\begin{DoxyCompactList}\small\item\em \-Record the locations of a parameter in a txt file; \mbox{[}\mbox{[}file name, line number, field number, and multiplier\mbox{]}\mbox{]}. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1forcefield_1_1FF_a8e7047c4b41a755c24996c9e1619df0b}{\-\_\-\-\_\-eq\-\_\-\-\_\-}
\item 
def \hyperlink{classforcebalance_1_1BaseClass_a73e9a37a7632e79eb99f49bd15aced45}{set\-\_\-option}
\end{DoxyCompactItemize}
\subsubsection*{\-Public \-Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_a70d7c27557dcefd0ae66a1f1cc4ec211}{ffdata}
\begin{DoxyCompactList}\small\item\em \-As these options proliferate, the force field class becomes less standalone. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_a4a535d76727fdde57c562d41715b6620}{ffdata\-\_\-isxml}
\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_a0b4c59bcf7ecb19000b3a173151a7c5b}{map}
\begin{DoxyCompactList}\small\item\em \-The mapping of interaction type -\/$>$ parameter number. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_a2d12bd53577f14af5e8d4b64ebb6281f}{plist}
\begin{DoxyCompactList}\small\item\em \-The listing of parameter number -\/$>$ interaction types. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_a18d57dc6664451e586f0b5e992fb7873}{patoms}
\begin{DoxyCompactList}\small\item\em \-A listing of parameter number -\/$>$ atoms involved. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_aa521223f43f9629b30384491cafbd10c}{pfields}
\begin{DoxyCompactList}\small\item\em \-A list where pfields\mbox{[}pnum\mbox{]} = \mbox{[}'file',line,field,mult,cmd\mbox{]}, basically a new way to modify force field files; when we modify the force field file, we go to the specific line/field in a given file and change the number. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_a3424d0271d9eebf1962ad87286ec9fc3}{rs}
\begin{DoxyCompactList}\small\item\em \-List of rescaling factors. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_a3ecc51355dbd97e0b1620007924fd2a3}{tm}
\begin{DoxyCompactList}\small\item\em \-The transformation matrix for mathematical -\/$>$ physical parameters. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_a9c49407242f4e8da1c42530825c6dbda}{tm\-I}
\begin{DoxyCompactList}\small\item\em \-The transpose of the transformation matrix. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_aa630b2a2142d81e30c5751ed13a7b777}{excision}
\begin{DoxyCompactList}\small\item\em \-Indices to exclude from optimization / \-Hessian inversion. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_a5f04fa76bff707688a394542f893993d}{np}
\begin{DoxyCompactList}\small\item\em \-The total number of parameters. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_a4d6fbc589839d65aaf4dc417b05afba3}{pvals0}
\begin{DoxyCompactList}\small\item\em \-Initial value of physical parameters. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_ac9a93ef33ac311f6ce862f13a9087ba2}{\-Readers}
\begin{DoxyCompactList}\small\item\em \-A dictionary of force field reader classes. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_a9a846375f65457ebc1cd35311aec94fd}{atomnames}
\begin{DoxyCompactList}\small\item\em \-A list of atom names (this is new, for \-E\-S\-P fitting) \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_a30ed6d22628b40ff926588297550568f}{\-F\-F\-Atom\-Types}
\begin{DoxyCompactList}\small\item\em \-W\-O\-R\-K \-I\-N \-P\-R\-O\-G\-R\-E\-S\-S \#\# \-This is a dictionary of \{'\-Atom\-Type'\-:\{'\-Mass' \-: float, '\-Charge' \-: float, '\-Particle\-Type' \-: string ('\-A', '\-S', or '\-D'), '\-Atomic\-Number' \-: int\}\}. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_a3530616cf2336f54d33f9be169879a6c}{\-F\-F\-Molecules}
\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_a5851ef86cc6b75f508ba51e13ef05bc0}{redirect}
\begin{DoxyCompactList}\small\item\em \-Creates plist from map. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_ac6a1d374e90892f63aa245d5f282eb99}{linedestroy\-\_\-save}
\begin{DoxyCompactList}\small\item\em \-Destruction dictionary (experimental). \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_ac42f04b7e8442c9417630bdf8f3a8682}{parmdestroy\-\_\-save}
\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_ab874c2345b8c27ddc05181c233ae48c8}{linedestroy\-\_\-this}
\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_a5a1bc87095da227e11d78e08f845d58f}{parmdestroy\-\_\-this}
\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_a785b2f406f5b8e094caa0de4d421cc83}{tinkerprm}
\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_aaacf6bcf8f2c0fb244db18d923507405}{openmmxml}
\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_a8a8170c548f08073037a1ee6b77e92d6}{qmap}
\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_a6b13da172281999cbfb8c8e32978d62d}{qid}
\item 
\hyperlink{classforcebalance_1_1forcefield_1_1FF_ac0bebc2967c89f4e2d9c1da37b94dd9b}{qid2}
\item 
\hyperlink{classforcebalance_1_1BaseClass_afc6659278497d7245bc492ecf405ccae}{\-Print\-Option\-Dict}
\item 
\hyperlink{classforcebalance_1_1BaseClass_afd68efa29ccd2f320f4cf82198214aac}{verbose\-\_\-options}
\end{DoxyCompactItemize}


\subsubsection{\-Detailed \-Description}
\-Force field class. 

\-This class contains all methods for force field manipulation. \-To create an instance of this class, an input file is required containing the list of force field file names. \-Everything else inside this class pertaining to force field generation is self-\/contained.

\-For details on force field parsing, see the detailed documentation for addff. 

\-Definition at line 196 of file forcefield.\-py.



\subsubsection{\-Constructor \& \-Destructor \-Documentation}
\hypertarget{classforcebalance_1_1forcefield_1_1FF_aef2e183571128eea70132c7be2a8dc5d}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!\-\_\-\-\_\-init\-\_\-\-\_\-@{\-\_\-\-\_\-init\-\_\-\-\_\-}}
\index{\-\_\-\-\_\-init\-\_\-\-\_\-@{\-\_\-\-\_\-init\-\_\-\-\_\-}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{\-\_\-\-\_\-init\-\_\-\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf forcebalance.\-forcefield.\-F\-F.\-\_\-\-\_\-init\-\_\-\-\_\-} (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{options, }
\item[{}]{verbose = {\ttfamily \-True}}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1forcefield_1_1FF_aef2e183571128eea70132c7be2a8dc5d}


\-Instantiation of force field class. 

\-Many variables here are initialized to zero, but they are filled out by methods like addff, rsmake, and mktransmat. 

\-Definition at line 204 of file forcefield.\-py.



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1forcefield_1_1FF_aef2e183571128eea70132c7be2a8dc5d_cgraph}
\end{center}
\end{figure}




\subsubsection{\-Member \-Function \-Documentation}
\hypertarget{classforcebalance_1_1forcefield_1_1FF_a8e7047c4b41a755c24996c9e1619df0b}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!\-\_\-\-\_\-eq\-\_\-\-\_\-@{\-\_\-\-\_\-eq\-\_\-\-\_\-}}
\index{\-\_\-\-\_\-eq\-\_\-\-\_\-@{\-\_\-\-\_\-eq\-\_\-\-\_\-}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{\-\_\-\-\_\-eq\-\_\-\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf forcebalance.\-forcefield.\-F\-F.\-\_\-\-\_\-eq\-\_\-\-\_\-} (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{other}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1forcefield_1_1FF_a8e7047c4b41a755c24996c9e1619df0b}


\-Definition at line 1145 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a142d41c86b9b0ef57f93ec6fb349357b}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!addff@{addff}}
\index{addff@{addff}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{addff}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf forcebalance.\-forcefield.\-F\-F.\-addff} (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{ffname}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1forcefield_1_1FF_a142d41c86b9b0ef57f93ec6fb349357b}


\-Parse a force field file and add it to the class. 

\-First, figure out the type of force field file. \-This is done either by explicitly specifying the type using for example, {\ttfamily  ffname force\-\_\-field.\-xml\-:openmm } or we figure it out by looking at the file extension.

\-Next, parse the file. \-Currently we support two classes of files -\/ text and \-X\-M\-L. \-The two types are treated very differently; for \-X\-M\-L we use the parsers in libxml (via the python lxml module), and for text files we have our own in-\/house parsing class. \-Within text files, there is also a specialized \-G\-R\-O\-M\-A\-C\-S and \-T\-I\-N\-K\-E\-R parser as well as a generic text parser.

\-The job of the parser is to determine the following things\-: 1) \-Read the user-\/specified selection of parameters being fitted 2) \-Build a mapping (dictionary) of {\ttfamily  parameter identifier -\/$>$ index in parameter vector } 3) \-Build a list of physical parameter values 4) \-Figure out where to replace the parameter values in the force field file when the values are changed 5) \-Figure out which parameters need to be repeated or sign-\/flipped

\-Generally speaking, each parameter value in the force field file has a {\ttfamily  unique parameter identifier {\ttfamily . \-The identifier consists of three parts -\/ the interaction type, the parameter subtype (within that interaction type), and the atoms involved.}}

{\ttfamily {\ttfamily  -\/-\/-\/ \-If \-X\-M\-L\-: -\/-\/-\/}}

{\ttfamily {\ttfamily  \-The force field file is read in using the lxml \-Python module. \-Specify which parameter you want to fit using by adding a 'parameterize' element to the end of the force field \-X\-M\-L file, like so.}}

{\ttfamily {\ttfamily  
\begin{DoxyCode}
         <AmoebaVdwForce type="BUFFERED-14-7">
            <Vdw class="74" sigma="0.2655" epsilon="0.056484" reduction="0.910"
       parameterize="sigma, epsilon, reduction" /> 
\end{DoxyCode}
}}

{\ttfamily {\ttfamily  \-In this example, the parameter identifier would look like {\ttfamily  \-Vdw/74/epsilon }.}}

{\ttfamily {\ttfamily  -\/-\/-\/ \-If \-G\-R\-O\-M\-A\-C\-S (.itp) or \-T\-I\-N\-K\-E\-R (.prm) \-: -\/-\/-\/}}

{\ttfamily {\ttfamily  \-Follow the rules in the \-I\-T\-P\-\_\-\-Reader or \-Tinker\-\_\-\-Reader derived class. \-Read the documentation in the class documentation or the 'feed' method to learn more. \-In all cases the parameter is tagged using {\ttfamily  \# \-P\-A\-R\-M 3 } (where \# denotes a comment, the word \-P\-A\-R\-M stays the same, and 3 is the field number starting from zero.)}}

{\ttfamily {\ttfamily  -\/-\/-\/ \-If normal text \-: -\/-\/-\/}}

{\ttfamily {\ttfamily  \-The parameter identifier is simply built using the file name, line number, and field. \-Thus, the identifier is unique but completely noninformative (which is not ideal for our purposes, but it works.)}}

{\ttfamily {\ttfamily  -\/-\/-\/ \-Endif -\/-\/-\/}}

{\ttfamily {\ttfamily  \begin{DoxyWarning}{\-Warning}
\-My program currently assumes that we are only using one \-M\-M program per job. \-If we use \-C\-H\-A\-R\-M\-M and \-G\-R\-O\-M\-A\-C\-S to perform simulations as part of the same \-T\-A\-R\-G\-E\-T, we will get messed up. \-Maybe this needs to be fixed in the future, with program prefixes to parameters like \-C\-\_\- , \-G\-\_\- .. or simply unit conversions, you get the idea.

\-I don't think the multiplier actually works for analytic derivatives unless the interaction calculator knows the multiplier as well. \-I'm sure \-I can make this work in the future if necessary.
\end{DoxyWarning}

\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt in}  & {\em ffname} & \-Name of the force field file \\
\hline
\end{DoxyParams}
}}

\-Definition at line 395 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_ab4b5d5b79c89ab618ae968348bdfda3a}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!addff\-\_\-txt@{addff\-\_\-txt}}
\index{addff\-\_\-txt@{addff\-\_\-txt}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{addff\-\_\-txt}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf forcebalance.\-forcefield.\-F\-F.\-addff\-\_\-txt} (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{ffname, }
\item[{}]{fftype}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1forcefield_1_1FF_ab4b5d5b79c89ab618ae968348bdfda3a}


\-Parse a text force field and create several important instance variables. 

\-Each line is processed using the 'feed' method as implemented in the reader class. \-This essentially allows us to create the correct parameter identifier (pid), because the pid comes from more than the current line, it also depends on the section that we're in.

\-When '\-P\-A\-R\-M' or '\-R\-P\-T' is encountered, we do several things\-:
\begin{DoxyItemize}
\item \-Build the parameter identifier and insert it into the map
\item \-Point to the file name, line number, and field where the parameter may be modified
\end{DoxyItemize}

\-Additionally, when '\-P\-A\-R\-M' is encountered\-:
\begin{DoxyItemize}
\item \-Store the physical parameter value (this is permanent; it's the original value)
\item \-Increment the total number of parameters
\end{DoxyItemize}

\-When '\-R\-P\-T' is encountered we don't expand the parameter vector because this parameter is a copy of an existing one. \-If the parameter identifier is preceded by \-M\-I\-N\-U\-S\-\_\-, we chop off the prefix but remember that the sign needs to be flipped. 

\-Definition at line 465 of file forcefield.\-py.



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1forcefield_1_1FF_ab4b5d5b79c89ab618ae968348bdfda3a_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1forcefield_1_1FF_aaed8b2b725141c301f58016c80acec27}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!addff\-\_\-xml@{addff\-\_\-xml}}
\index{addff\-\_\-xml@{addff\-\_\-xml}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{addff\-\_\-xml}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf forcebalance.\-forcefield.\-F\-F.\-addff\-\_\-xml} (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{ffname}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1forcefield_1_1FF_aaed8b2b725141c301f58016c80acec27}


\-Parse an \-X\-M\-L force field file and create important instance variables. 

\-This was modeled after addff\-\_\-txt, but \-X\-M\-L and text files are fundamentally different, necessitating two different methods.

\-We begin with an \-\_\-\-Element\-Tree object. \-We search through the tree for the 'parameterize' and 'parameter\-\_\-repeat' keywords. \-Each time the keyword is encountered, we do the same four actions that \-I describe in addff\-\_\-txt.

\-It's hard to specify precisely the location in an \-X\-M\-L file to change a force field parameter. \-I can create a list of tree elements (essentially pointers to elements within a tree), but this method breaks down when \-I copy the tree because \-I have no way to refer to the copied tree elements. \-Fortunately, lxml gives me a way to represent a tree using a flat list, and my \-X\-M\-L file 'locations' are represented using the positions in the list.

\begin{DoxyWarning}{\-Warning}
\-The sign-\/flip hasn't been implemented yet. \-This shouldn't matter unless your calculation contains repeated parameters with opposite sign. 
\end{DoxyWarning}


\-Definition at line 573 of file forcefield.\-py.



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1forcefield_1_1FF_aaed8b2b725141c301f58016c80acec27_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1forcefield_1_1FF_a2c9cda9adb5a6446fbccfa7b35f8dff5}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!assign\-\_\-field@{assign\-\_\-field}}
\index{assign\-\_\-field@{assign\-\_\-field}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{assign\-\_\-field}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf forcebalance.\-forcefield.\-F\-F.\-assign\-\_\-field} (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{idx, }
\item[{}]{fnm, }
\item[{}]{ln, }
\item[{}]{pfld, }
\item[{}]{mult, }
\item[{}]{cmd = {\ttfamily \-None}}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1forcefield_1_1FF_a2c9cda9adb5a6446fbccfa7b35f8dff5}


\-Record the locations of a parameter in a txt file; \mbox{[}\mbox{[}file name, line number, field number, and multiplier\mbox{]}\mbox{]}. 

\-Note that parameters can have multiple locations because of the repetition functionality.


\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt in}  & {\em idx} & \-The index of the parameter. \\
\hline
\mbox{\tt in}  & {\em fnm} & \-The file name of the parameter field. \\
\hline
\mbox{\tt in}  & {\em ln} & \-The line number within the file (or the node index in the flattened xml) \\
\hline
\mbox{\tt in}  & {\em pfld} & \-The field within the line (or the name of the attribute in the xml) \\
\hline
\mbox{\tt in}  & {\em mult} & \-The multiplier (this is usually 1.\-0) \\
\hline
\end{DoxyParams}


\-Definition at line 1139 of file forcefield.\-py.



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1forcefield_1_1FF_a2c9cda9adb5a6446fbccfa7b35f8dff5_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1forcefield_1_1FF_a3af07734a2378364ed533e2853ee6b82}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!assign\-\_\-p0@{assign\-\_\-p0}}
\index{assign\-\_\-p0@{assign\-\_\-p0}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{assign\-\_\-p0}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf forcebalance.\-forcefield.\-F\-F.\-assign\-\_\-p0} (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{idx, }
\item[{}]{val}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1forcefield_1_1FF_a3af07734a2378364ed533e2853ee6b82}


\-Assign physical parameter values to the 'pvals0' array. 


\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt in}  & {\em idx} & \-The index to which we assign the parameter value. \\
\hline
\mbox{\tt in}  & {\em val} & \-The parameter value to be inserted. \\
\hline
\end{DoxyParams}


\-Definition at line 1121 of file forcefield.\-py.



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1forcefield_1_1FF_a3af07734a2378364ed533e2853ee6b82_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1forcefield_1_1FF_ae5fba4d3e22f210632ead3653e6e12dd}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!create\-\_\-mvals@{create\-\_\-mvals}}
\index{create\-\_\-mvals@{create\-\_\-mvals}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{create\-\_\-mvals}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf forcebalance.\-forcefield.\-F\-F.\-create\-\_\-mvals} (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{pvals}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1forcefield_1_1FF_ae5fba4d3e22f210632ead3653e6e12dd}


\-Converts physical to mathematical parameters. 

\-We create the inverse transformation matrix using \-S\-V\-D.


\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt in}  & {\em pvals} & \-The physical parameters \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
mvals \-The mathematical parameters 
\end{DoxyReturn}


\-Definition at line 854 of file forcefield.\-py.



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1forcefield_1_1FF_ae5fba4d3e22f210632ead3653e6e12dd_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1forcefield_1_1FF_a260031479e0429e497f56987de541930}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!create\-\_\-pvals@{create\-\_\-pvals}}
\index{create\-\_\-pvals@{create\-\_\-pvals}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{create\-\_\-pvals}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf forcebalance.\-forcefield.\-F\-F.\-create\-\_\-pvals} (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{mvals}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1forcefield_1_1FF_a260031479e0429e497f56987de541930}


\-Converts mathematical to physical parameters. 

\-First, mathematical parameters are rescaled and rotated by multiplying by the transformation matrix, followed by adding the original physical parameters.


\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt in}  & {\em mvals} & \-The mathematical parameters \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
pvals \-The physical parameters 
\end{DoxyReturn}


\-Definition at line 819 of file forcefield.\-py.



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1forcefield_1_1FF_a260031479e0429e497f56987de541930_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1forcefield_1_1FF_a2515e2361eb460edeab69f3d7742d3d9}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!find\-\_\-spacings@{find\-\_\-spacings}}
\index{find\-\_\-spacings@{find\-\_\-spacings}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{find\-\_\-spacings}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf forcebalance.\-forcefield.\-F\-F.\-find\-\_\-spacings} (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1forcefield_1_1FF_a2515e2361eb460edeab69f3d7742d3d9}


\-Definition at line 774 of file forcefield.\-py.



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1forcefield_1_1FF_a2515e2361eb460edeab69f3d7742d3d9_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1forcefield_1_1FF_ac0046446695a65cb2489fdb560ef5929}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!list\-\_\-map@{list\-\_\-map}}
\index{list\-\_\-map@{list\-\_\-map}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{list\-\_\-map}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf forcebalance.\-forcefield.\-F\-F.\-list\-\_\-map} (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1forcefield_1_1FF_ac0046446695a65cb2489fdb560ef5929}


\-Create the plist, which is like a reversed version of the parameter map. 

\-More convenient for printing. 

\-Definition at line 1097 of file forcefield.\-py.



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1forcefield_1_1FF_ac0046446695a65cb2489fdb560ef5929_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1forcefield_1_1FF_aecd595ddb369aedd7009e6756276ffc5}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!make@{make}}
\index{make@{make}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{make}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf forcebalance.\-forcefield.\-F\-F.\-make} (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{vals, }
\item[{}]{use\-\_\-pvals = {\ttfamily \-False}, }
\item[{}]{printdir = {\ttfamily \-None}, }
\item[{}]{precision = {\ttfamily 12}}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1forcefield_1_1FF_aecd595ddb369aedd7009e6756276ffc5}


\-Create a new force field using provided parameter values. 

\-This big kahuna does a number of things\-: 1) \-Creates the physical parameters from the mathematical parameters 2) \-Creates force fields with physical parameters substituted in 3) \-Prints the force fields to the specified file.

\-It does \-N\-O\-T store the mathematical parameters in the class state (since we can only hold one set of parameters).


\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt in}  & {\em printdir} & \-The directory that the force fields are printed to; as usual this is relative to the project root directory. \\
\hline
\mbox{\tt in}  & {\em vals} & \-Input parameters. \-I previously had an option where it uses stored values in the class state, but \-I don't think that's a good idea anymore. \\
\hline
\mbox{\tt in}  & {\em use\-\_\-pvals} & \-Switch for whether to bypass the coordinate transformation and use physical parameters directly. \\
\hline
\end{DoxyParams}


\-Definition at line 621 of file forcefield.\-py.



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1forcefield_1_1FF_aecd595ddb369aedd7009e6756276ffc5_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1forcefield_1_1FF_a0540c3df2c0dece9f2711cc04fd958d4}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!make\-\_\-redirect@{make\-\_\-redirect}}
\index{make\-\_\-redirect@{make\-\_\-redirect}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{make\-\_\-redirect}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf forcebalance.\-forcefield.\-F\-F.\-make\-\_\-redirect} (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{mvals}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1forcefield_1_1FF_a0540c3df2c0dece9f2711cc04fd958d4}


\-Definition at line 733 of file forcefield.\-py.



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1forcefield_1_1FF_a0540c3df2c0dece9f2711cc04fd958d4_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1forcefield_1_1FF_acf0ce8fc4e9fbf5257f93d14d4a4f10f}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!mktransmat@{mktransmat}}
\index{mktransmat@{mktransmat}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{mktransmat}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf forcebalance.\-forcefield.\-F\-F.\-mktransmat} (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1forcefield_1_1FF_acf0ce8fc4e9fbf5257f93d14d4a4f10f}


\-Create the transformation matrix to rescale and rotate the mathematical parameters. 

\-For point charge parameters, project out perturbations that change the total charge.

\-First build these\-:

'qmap' \-: \-Just a list of parameter indices that point to charges.

'qid' \-: \-For each parameter in the qmap, a list of the affected atoms \-:) \-A potential target for the molecule-\/specific thang.

\-Then make this\-:

'qtrans2' \-: \-A transformation matrix that rotates the charge parameters. \-The first row is all zeros (because it corresponds to increasing the charge on all atoms) \-The other rows correspond to changing one of the parameters and decreasing all of the others equally such that the overall charge is preserved.

'qmat2' \-: \-An identity matrix with 'qtrans2' pasted into the right place

'transmat'\-: 'qmat2' with rows and columns scaled using self.\-rs

'excision'\-: \-Parameter indices that need to be 'cut out' because they are irrelevant and mess with the matrix diagonalization

\begin{DoxyRefDesc}{\-Todo}
\item[\hyperlink{todo__todo000008}{\-Todo}]\-Only project out changes in total charge of a molecule, and perhaps generalize to fragments of molecules or other types of parameters. 

\-The \-A\-M\-O\-E\-B\-A selection of charge depends not only on the atom type, but what that atom is bonded to. \end{DoxyRefDesc}


\-Definition at line 947 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a61082e99cb3a02e35c80bbea919eaafa}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!print\-\_\-map@{print\-\_\-map}}
\index{print\-\_\-map@{print\-\_\-map}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{print\-\_\-map}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf forcebalance.\-forcefield.\-F\-F.\-print\-\_\-map} (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{vals = {\ttfamily \-None}, }
\item[{}]{precision = {\ttfamily 4}}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1forcefield_1_1FF_a61082e99cb3a02e35c80bbea919eaafa}


\-Prints out the (physical or mathematical) parameter indices, \-I\-Ds and values in a visually appealing way. 



\-Definition at line 1109 of file forcefield.\-py.



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1forcefield_1_1FF_a61082e99cb3a02e35c80bbea919eaafa_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1forcefield_1_1FF_a88715f96ff8e14c3c83b4f976ad147b4}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!rsmake@{rsmake}}
\index{rsmake@{rsmake}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{rsmake}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf forcebalance.\-forcefield.\-F\-F.\-rsmake} (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{printfacs = {\ttfamily \-True}}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1forcefield_1_1FF_a88715f96ff8e14c3c83b4f976ad147b4}


\-Create the rescaling factors for the coordinate transformation in parameter space. 

\-The proper choice of rescaling factors (read\-: prior widths in maximum likelihood analysis) is still a black art. \-This is a topic of current research.

\begin{DoxyRefDesc}{\-Todo}
\item[\hyperlink{todo__todo000007}{\-Todo}]\-Pass in rsfactors through the input file\end{DoxyRefDesc}



\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt in}  & {\em printfacs} & \-List for printing out the resecaling factors \\
\hline
\end{DoxyParams}


\-Definition at line 871 of file forcefield.\-py.



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1forcefield_1_1FF_a88715f96ff8e14c3c83b4f976ad147b4_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1BaseClass_a73e9a37a7632e79eb99f49bd15aced45}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!set\-\_\-option@{set\-\_\-option}}
\index{set\-\_\-option@{set\-\_\-option}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{set\-\_\-option}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf forcebalance.\-Base\-Class.\-set\-\_\-option} (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{in\-\_\-dict, }
\item[{}]{src\-\_\-key, }
\item[{}]{dest\-\_\-key = {\ttfamily \-None}, }
\item[{}]{val = {\ttfamily \-None}, }
\item[{}]{default = {\ttfamily \-None}, }
\item[{}]{forceprint = {\ttfamily \-False}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inherited\mbox{]}}}}\label{classforcebalance_1_1BaseClass_a73e9a37a7632e79eb99f49bd15aced45}


\-Definition at line 34 of file \-\_\-\-\_\-init\-\_\-\-\_\-.\-py.



\subsubsection{\-Member \-Data \-Documentation}
\hypertarget{classforcebalance_1_1forcefield_1_1FF_a9a846375f65457ebc1cd35311aec94fd}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!atomnames@{atomnames}}
\index{atomnames@{atomnames}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{atomnames}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::atomnames}}}\label{classforcebalance_1_1forcefield_1_1FF_a9a846375f65457ebc1cd35311aec94fd}


\-A list of atom names (this is new, for \-E\-S\-P fitting) 



\-Definition at line 231 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_aa630b2a2142d81e30c5751ed13a7b777}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!excision@{excision}}
\index{excision@{excision}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{excision}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::excision}}}\label{classforcebalance_1_1forcefield_1_1FF_aa630b2a2142d81e30c5751ed13a7b777}


\-Indices to exclude from optimization / \-Hessian inversion. 

\-Some customized constraints here.

\-Quadrupoles must be traceless 

\-Definition at line 227 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a30ed6d22628b40ff926588297550568f}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!\-F\-F\-Atom\-Types@{\-F\-F\-Atom\-Types}}
\index{\-F\-F\-Atom\-Types@{\-F\-F\-Atom\-Types}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{\-F\-F\-Atom\-Types}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::\-F\-F\-Atom\-Types}}}\label{classforcebalance_1_1forcefield_1_1FF_a30ed6d22628b40ff926588297550568f}


\-W\-O\-R\-K \-I\-N \-P\-R\-O\-G\-R\-E\-S\-S \#\# \-This is a dictionary of \{'\-Atom\-Type'\-:\{'\-Mass' \-: float, '\-Charge' \-: float, '\-Particle\-Type' \-: string ('\-A', '\-S', or '\-D'), '\-Atomic\-Number' \-: int\}\}. 



\-Definition at line 233 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a70d7c27557dcefd0ae66a1f1cc4ec211}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!ffdata@{ffdata}}
\index{ffdata@{ffdata}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{ffdata}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::ffdata}}}\label{classforcebalance_1_1forcefield_1_1FF_a70d7c27557dcefd0ae66a1f1cc4ec211}


\-As these options proliferate, the force field class becomes less standalone. 

\-I need to think of a good solution here... \-The root directory of the project \-File names of force fields \-Directory containing force fields, relative to project directory \-Priors given by the user \-:) \-Whether to constrain the charges. \-Whether to constrain the charges. \-Switch for \-A\-M\-O\-E\-B\-A direct or mutual. \-Switch for rigid water molecules \-Bypass the transformation and use physical parameters directly \-The content of all force field files are stored in memory 

\-Definition at line 216 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a4a535d76727fdde57c562d41715b6620}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!ffdata\-\_\-isxml@{ffdata\-\_\-isxml}}
\index{ffdata\-\_\-isxml@{ffdata\-\_\-isxml}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{ffdata\-\_\-isxml}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::ffdata\-\_\-isxml}}}\label{classforcebalance_1_1forcefield_1_1FF_a4a535d76727fdde57c562d41715b6620}


\-Definition at line 216 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a3530616cf2336f54d33f9be169879a6c}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!\-F\-F\-Molecules@{\-F\-F\-Molecules}}
\index{\-F\-F\-Molecules@{\-F\-F\-Molecules}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{\-F\-F\-Molecules}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::\-F\-F\-Molecules}}}\label{classforcebalance_1_1forcefield_1_1FF_a3530616cf2336f54d33f9be169879a6c}


\-Definition at line 233 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_ac6a1d374e90892f63aa245d5f282eb99}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!linedestroy\-\_\-save@{linedestroy\-\_\-save}}
\index{linedestroy\-\_\-save@{linedestroy\-\_\-save}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{linedestroy\-\_\-save}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::linedestroy\-\_\-save}}}\label{classforcebalance_1_1forcefield_1_1FF_ac6a1d374e90892f63aa245d5f282eb99}


\-Destruction dictionary (experimental). 



\-Definition at line 240 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_ab874c2345b8c27ddc05181c233ae48c8}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!linedestroy\-\_\-this@{linedestroy\-\_\-this}}
\index{linedestroy\-\_\-this@{linedestroy\-\_\-this}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{linedestroy\-\_\-this}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::linedestroy\-\_\-this}}}\label{classforcebalance_1_1forcefield_1_1FF_ab874c2345b8c27ddc05181c233ae48c8}


\-Definition at line 240 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a0b4c59bcf7ecb19000b3a173151a7c5b}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!map@{map}}
\index{map@{map}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{map}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::map}}}\label{classforcebalance_1_1forcefield_1_1FF_a0b4c59bcf7ecb19000b3a173151a7c5b}


\-The mapping of interaction type -\/$>$ parameter number. 



\-Definition at line 217 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a5f04fa76bff707688a394542f893993d}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!np@{np}}
\index{np@{np}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{np}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::np}}}\label{classforcebalance_1_1forcefield_1_1FF_a5f04fa76bff707688a394542f893993d}


\-The total number of parameters. 



\-Definition at line 228 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_aaacf6bcf8f2c0fb244db18d923507405}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!openmmxml@{openmmxml}}
\index{openmmxml@{openmmxml}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{openmmxml}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::openmmxml}}}\label{classforcebalance_1_1forcefield_1_1FF_aaacf6bcf8f2c0fb244db18d923507405}


\-Definition at line 395 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_ac42f04b7e8442c9417630bdf8f3a8682}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!parmdestroy\-\_\-save@{parmdestroy\-\_\-save}}
\index{parmdestroy\-\_\-save@{parmdestroy\-\_\-save}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{parmdestroy\-\_\-save}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::parmdestroy\-\_\-save}}}\label{classforcebalance_1_1forcefield_1_1FF_ac42f04b7e8442c9417630bdf8f3a8682}


\-Definition at line 240 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a5a1bc87095da227e11d78e08f845d58f}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!parmdestroy\-\_\-this@{parmdestroy\-\_\-this}}
\index{parmdestroy\-\_\-this@{parmdestroy\-\_\-this}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{parmdestroy\-\_\-this}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::parmdestroy\-\_\-this}}}\label{classforcebalance_1_1forcefield_1_1FF_a5a1bc87095da227e11d78e08f845d58f}


\-Definition at line 240 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a18d57dc6664451e586f0b5e992fb7873}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!patoms@{patoms}}
\index{patoms@{patoms}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{patoms}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::patoms}}}\label{classforcebalance_1_1forcefield_1_1FF_a18d57dc6664451e586f0b5e992fb7873}


\-A listing of parameter number -\/$>$ atoms involved. 



\-Definition at line 219 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_aa521223f43f9629b30384491cafbd10c}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!pfields@{pfields}}
\index{pfields@{pfields}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{pfields}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::pfields}}}\label{classforcebalance_1_1forcefield_1_1FF_aa521223f43f9629b30384491cafbd10c}


\-A list where pfields\mbox{[}pnum\mbox{]} = \mbox{[}'file',line,field,mult,cmd\mbox{]}, basically a new way to modify force field files; when we modify the force field file, we go to the specific line/field in a given file and change the number. 



\-Definition at line 223 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a2d12bd53577f14af5e8d4b64ebb6281f}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!plist@{plist}}
\index{plist@{plist}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{plist}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::plist}}}\label{classforcebalance_1_1forcefield_1_1FF_a2d12bd53577f14af5e8d4b64ebb6281f}


\-The listing of parameter number -\/$>$ interaction types. 



\-Definition at line 218 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1BaseClass_afc6659278497d7245bc492ecf405ccae}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!\-Print\-Option\-Dict@{\-Print\-Option\-Dict}}
\index{\-Print\-Option\-Dict@{\-Print\-Option\-Dict}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{\-Print\-Option\-Dict}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance.\-Base\-Class\-::\-Print\-Option\-Dict}\hspace{0.3cm}{\ttfamily  \mbox{[}inherited\mbox{]}}}}\label{classforcebalance_1_1BaseClass_afc6659278497d7245bc492ecf405ccae}


\-Definition at line 30 of file \-\_\-\-\_\-init\-\_\-\-\_\-.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a4d6fbc589839d65aaf4dc417b05afba3}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!pvals0@{pvals0}}
\index{pvals0@{pvals0}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{pvals0}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::pvals0}}}\label{classforcebalance_1_1forcefield_1_1FF_a4d6fbc589839d65aaf4dc417b05afba3}


\-Initial value of physical parameters. 



\-Definition at line 229 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a6b13da172281999cbfb8c8e32978d62d}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!qid@{qid}}
\index{qid@{qid}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{qid}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::qid}}}\label{classforcebalance_1_1forcefield_1_1FF_a6b13da172281999cbfb8c8e32978d62d}


\-Definition at line 947 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_ac0bebc2967c89f4e2d9c1da37b94dd9b}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!qid2@{qid2}}
\index{qid2@{qid2}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{qid2}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::qid2}}}\label{classforcebalance_1_1forcefield_1_1FF_ac0bebc2967c89f4e2d9c1da37b94dd9b}


\-Definition at line 947 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a8a8170c548f08073037a1ee6b77e92d6}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!qmap@{qmap}}
\index{qmap@{qmap}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{qmap}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::qmap}}}\label{classforcebalance_1_1forcefield_1_1FF_a8a8170c548f08073037a1ee6b77e92d6}


\-Definition at line 947 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_ac9a93ef33ac311f6ce862f13a9087ba2}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!\-Readers@{\-Readers}}
\index{\-Readers@{\-Readers}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{\-Readers}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::\-Readers}}}\label{classforcebalance_1_1forcefield_1_1FF_ac9a93ef33ac311f6ce862f13a9087ba2}


\-A dictionary of force field reader classes. 



\-Definition at line 230 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a5851ef86cc6b75f508ba51e13ef05bc0}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!redirect@{redirect}}
\index{redirect@{redirect}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{redirect}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::redirect}}}\label{classforcebalance_1_1forcefield_1_1FF_a5851ef86cc6b75f508ba51e13ef05bc0}


\-Creates plist from map. 

\-Prints the plist to screen. \-Make the rescaling factors. \-Make the transformation matrix. \-Redirection dictionary (experimental). 

\-Definition at line 239 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a3424d0271d9eebf1962ad87286ec9fc3}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!rs@{rs}}
\index{rs@{rs}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{rs}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::rs}}}\label{classforcebalance_1_1forcefield_1_1FF_a3424d0271d9eebf1962ad87286ec9fc3}


\-List of rescaling factors. 

\-Takes the dictionary '\-B\-O\-N\-D\-S'\-:\{3\-:'\-B', 4\-:'\-K'\}, '\-V\-D\-W'\-:\{4\-:'\-S', 5\-:'\-T'\}, and turns it into a list of term types \mbox{[}'\-B\-O\-N\-D\-S\-B','\-B\-O\-N\-D\-S\-K','\-V\-D\-W\-S','\-V\-D\-W\-T'\mbox{]}.

\-The array of rescaling factors 

\-Definition at line 224 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a785b2f406f5b8e094caa0de4d421cc83}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!tinkerprm@{tinkerprm}}
\index{tinkerprm@{tinkerprm}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{tinkerprm}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::tinkerprm}}}\label{classforcebalance_1_1forcefield_1_1FF_a785b2f406f5b8e094caa0de4d421cc83}


\-Definition at line 395 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a3ecc51355dbd97e0b1620007924fd2a3}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!tm@{tm}}
\index{tm@{tm}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{tm}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::tm}}}\label{classforcebalance_1_1forcefield_1_1FF_a3ecc51355dbd97e0b1620007924fd2a3}


\-The transformation matrix for mathematical -\/$>$ physical parameters. 



\-Definition at line 225 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1forcefield_1_1FF_a9c49407242f4e8da1c42530825c6dbda}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!tm\-I@{tm\-I}}
\index{tm\-I@{tm\-I}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{tm\-I}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance\-::forcefield.\-F\-F\-::tm\-I}}}\label{classforcebalance_1_1forcefield_1_1FF_a9c49407242f4e8da1c42530825c6dbda}


\-The transpose of the transformation matrix. 



\-Definition at line 226 of file forcefield.\-py.

\hypertarget{classforcebalance_1_1BaseClass_afd68efa29ccd2f320f4cf82198214aac}{\index{forcebalance\-::forcefield\-::\-F\-F@{forcebalance\-::forcefield\-::\-F\-F}!verbose\-\_\-options@{verbose\-\_\-options}}
\index{verbose\-\_\-options@{verbose\-\_\-options}!forcebalance::forcefield::FF@{forcebalance\-::forcefield\-::\-F\-F}}
\paragraph[{verbose\-\_\-options}]{\setlength{\rightskip}{0pt plus 5cm}{\bf forcebalance.\-Base\-Class\-::verbose\-\_\-options}\hspace{0.3cm}{\ttfamily  \mbox{[}inherited\mbox{]}}}}\label{classforcebalance_1_1BaseClass_afd68efa29ccd2f320f4cf82198214aac}


\-Definition at line 30 of file \-\_\-\-\_\-init\-\_\-\-\_\-.\-py.



\-The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
\hyperlink{forcefield_8py}{forcefield.\-py}\end{DoxyCompactItemize}
