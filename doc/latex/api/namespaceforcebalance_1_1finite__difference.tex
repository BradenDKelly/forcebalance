\hypertarget{namespaceforcebalance_1_1finite__difference}{\subsection{forcebalance.\-finite\-\_\-difference Namespace Reference}
\label{namespaceforcebalance_1_1finite__difference}\index{forcebalance.\-finite\-\_\-difference@{forcebalance.\-finite\-\_\-difference}}
}
\subsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespaceforcebalance_1_1finite__difference_ac5bb1552a9b8dd22c9c80e6444de2218}{f1d2p}
\begin{DoxyCompactList}\small\item\em A two-\/point finite difference stencil. \end{DoxyCompactList}\item 
def \hyperlink{namespaceforcebalance_1_1finite__difference_a123c5d5dea0f3f50ab57796bb3bc39be}{f1d5p}
\begin{DoxyCompactList}\small\item\em A highly accurate five-\/point finite difference stencil for computing derivatives of a function. \end{DoxyCompactList}\item 
def \hyperlink{namespaceforcebalance_1_1finite__difference_a9be9f0d21300958092e380514e2e980d}{f1d7p}
\begin{DoxyCompactList}\small\item\em A highly accurate seven-\/point finite difference stencil for computing derivatives of a function. \end{DoxyCompactList}\item 
def \hyperlink{namespaceforcebalance_1_1finite__difference_acc281f85b668062745f711d9b4a610fa}{f12d7p}
\item 
def \hyperlink{namespaceforcebalance_1_1finite__difference_aa69a8819e4680091f400303c1d6ddeb7}{f12d3p}
\begin{DoxyCompactList}\small\item\em A three-\/point finite difference stencil. \end{DoxyCompactList}\item 
def \hyperlink{namespaceforcebalance_1_1finite__difference_ad84d3e385db1190e7d8ef58bc08a6c52}{in\-\_\-fd}
\begin{DoxyCompactList}\small\item\em Invoking this function from anywhere will tell us whether we're being called by a finite-\/difference function. \end{DoxyCompactList}\item 
def \hyperlink{namespaceforcebalance_1_1finite__difference_ae484c591ae8c4e5bae73a0ef2660c339}{fdwrap}
\begin{DoxyCompactList}\small\item\em A function wrapper for finite difference designed for differentiating 'get'-\/type functions. \end{DoxyCompactList}\item 
def \hyperlink{namespaceforcebalance_1_1finite__difference_a00322fb65860c390616f74d05037c797}{fdwrap\-\_\-\-G}
\begin{DoxyCompactList}\small\item\em A driver to fdwrap for gradients (see documentation for fdwrap) Inputs\-: tgt = The Target containing the objective function that we want to differentiate mvals0 = The 'central' values of the mathematical parameters -\/ i.\-e. \end{DoxyCompactList}\item 
def \hyperlink{namespaceforcebalance_1_1finite__difference_a77a0bc1ae3cbbcc8d38a0ef9ca877d6d}{fdwrap\-\_\-\-H}
\begin{DoxyCompactList}\small\item\em A driver to fdwrap for Hessians (see documentation for fdwrap) Inputs\-: tgt = The Target containing the objective function that we want to differentiate mvals0 = The 'central' values of the mathematical parameters -\/ i.\-e. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Function Documentation}
\hypertarget{namespaceforcebalance_1_1finite__difference_aa69a8819e4680091f400303c1d6ddeb7}{\index{forcebalance\-::finite\-\_\-difference@{forcebalance\-::finite\-\_\-difference}!f12d3p@{f12d3p}}
\index{f12d3p@{f12d3p}!forcebalance::finite_difference@{forcebalance\-::finite\-\_\-difference}}
\paragraph[{f12d3p}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-finite\-\_\-difference.\-f12d3p (
\begin{DoxyParamCaption}
\item[{}]{f, }
\item[{}]{h, }
\item[{}]{f0 = {\ttfamily None}}
\end{DoxyParamCaption}
)}}\label{namespaceforcebalance_1_1finite__difference_aa69a8819e4680091f400303c1d6ddeb7}


A three-\/point finite difference stencil. 

This function does either two computations or three, depending on whether the 'center' value is supplied. This is done in order to avoid recomputing the center value many times.

The first derivative is evaluated using central difference. One advantage of using central difference (as opposed to forward difference) is that we get zero at the bottom of a parabola.

Using this formula we also get an approximate second derivative, which can then be inserted into the diagonal of the Hessian. This is very useful for optimizations like B\-F\-G\-S where the diagonal determines how far we step in the parameter space.

How to use\-: use fdwrap or something similar to generate a one-\/variable function from the (usually) much more complicated function that we wish to differentate. Then pass it to this function.

Inputs\-: f = The one-\/variable function f(x) that we're differentiating h = The finite difference step size, usually a small number

Outputs\-: fp = The finite difference derivative of the function f(x) around x=0. 

Definition at line 107 of file finite\-\_\-difference.\-py.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespaceforcebalance_1_1finite__difference_aa69a8819e4680091f400303c1d6ddeb7_cgraph}
\end{center}
\end{figure}


\hypertarget{namespaceforcebalance_1_1finite__difference_acc281f85b668062745f711d9b4a610fa}{\index{forcebalance\-::finite\-\_\-difference@{forcebalance\-::finite\-\_\-difference}!f12d7p@{f12d7p}}
\index{f12d7p@{f12d7p}!forcebalance::finite_difference@{forcebalance\-::finite\-\_\-difference}}
\paragraph[{f12d7p}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-finite\-\_\-difference.\-f12d7p (
\begin{DoxyParamCaption}
\item[{}]{f, }
\item[{}]{h}
\end{DoxyParamCaption}
)}}\label{namespaceforcebalance_1_1finite__difference_acc281f85b668062745f711d9b4a610fa}


Definition at line 73 of file finite\-\_\-difference.\-py.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespaceforcebalance_1_1finite__difference_acc281f85b668062745f711d9b4a610fa_cgraph}
\end{center}
\end{figure}


\hypertarget{namespaceforcebalance_1_1finite__difference_ac5bb1552a9b8dd22c9c80e6444de2218}{\index{forcebalance\-::finite\-\_\-difference@{forcebalance\-::finite\-\_\-difference}!f1d2p@{f1d2p}}
\index{f1d2p@{f1d2p}!forcebalance::finite_difference@{forcebalance\-::finite\-\_\-difference}}
\paragraph[{f1d2p}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-finite\-\_\-difference.\-f1d2p (
\begin{DoxyParamCaption}
\item[{}]{f, }
\item[{}]{h, }
\item[{}]{f0 = {\ttfamily None}}
\end{DoxyParamCaption}
)}}\label{namespaceforcebalance_1_1finite__difference_ac5bb1552a9b8dd22c9c80e6444de2218}


A two-\/point finite difference stencil. 

This function does either two computations or one, depending on whether the 'center' value is supplied. This is done in order to avoid recomputing the center value many times when we repeat this function for each index of the gradient.

How to use\-: use fdwrap or something similar to generate a one-\/variable function from the (usually) much more complicated function that we wish to differentate. Then pass it to this function.

Inputs\-: f = The one-\/variable function f(x) that we're differentiating h = The finite difference step size, usually a small number

Outputs\-: fp = The finite difference derivative of the function f(x) around x=0. 

Definition at line 27 of file finite\-\_\-difference.\-py.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespaceforcebalance_1_1finite__difference_ac5bb1552a9b8dd22c9c80e6444de2218_cgraph}
\end{center}
\end{figure}


\hypertarget{namespaceforcebalance_1_1finite__difference_a123c5d5dea0f3f50ab57796bb3bc39be}{\index{forcebalance\-::finite\-\_\-difference@{forcebalance\-::finite\-\_\-difference}!f1d5p@{f1d5p}}
\index{f1d5p@{f1d5p}!forcebalance::finite_difference@{forcebalance\-::finite\-\_\-difference}}
\paragraph[{f1d5p}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-finite\-\_\-difference.\-f1d5p (
\begin{DoxyParamCaption}
\item[{}]{f, }
\item[{}]{h}
\end{DoxyParamCaption}
)}}\label{namespaceforcebalance_1_1finite__difference_a123c5d5dea0f3f50ab57796bb3bc39be}


A highly accurate five-\/point finite difference stencil for computing derivatives of a function. 

It works on both scalar and vector functions (i.\-e. functions that return arrays). Since the function does four computations, it's costly but recommended if we really need an accurate reference value.

The function is evaluated at points -\/2h, -\/h, +h and +2h and these values are combined to make the derivative according to\-: \href{http://www.holoborodko.com/pavel/numerical-methods/numerical-derivative/central-differences/}{\tt http\-://www.\-holoborodko.\-com/pavel/numerical-\/methods/numerical-\/derivative/central-\/differences/}

How to use\-: use fdwrap or something similar to generate a one-\/variable function from the (usually) much more complicated function that we wish to differentate. Then pass it to this function.

Inputs\-: f = The one-\/variable function f(x) that we're differentiating h = The finite difference step size, usually a small number

Outputs\-: fp = The finite difference derivative of the function f(x) around x=0. 

Definition at line 58 of file finite\-\_\-difference.\-py.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespaceforcebalance_1_1finite__difference_a123c5d5dea0f3f50ab57796bb3bc39be_cgraph}
\end{center}
\end{figure}


\hypertarget{namespaceforcebalance_1_1finite__difference_a9be9f0d21300958092e380514e2e980d}{\index{forcebalance\-::finite\-\_\-difference@{forcebalance\-::finite\-\_\-difference}!f1d7p@{f1d7p}}
\index{f1d7p@{f1d7p}!forcebalance::finite_difference@{forcebalance\-::finite\-\_\-difference}}
\paragraph[{f1d7p}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-finite\-\_\-difference.\-f1d7p (
\begin{DoxyParamCaption}
\item[{}]{f, }
\item[{}]{h}
\end{DoxyParamCaption}
)}}\label{namespaceforcebalance_1_1finite__difference_a9be9f0d21300958092e380514e2e980d}


A highly accurate seven-\/point finite difference stencil for computing derivatives of a function. 



Definition at line 68 of file finite\-\_\-difference.\-py.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespaceforcebalance_1_1finite__difference_a9be9f0d21300958092e380514e2e980d_cgraph}
\end{center}
\end{figure}


\hypertarget{namespaceforcebalance_1_1finite__difference_ae484c591ae8c4e5bae73a0ef2660c339}{\index{forcebalance\-::finite\-\_\-difference@{forcebalance\-::finite\-\_\-difference}!fdwrap@{fdwrap}}
\index{fdwrap@{fdwrap}!forcebalance::finite_difference@{forcebalance\-::finite\-\_\-difference}}
\paragraph[{fdwrap}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-finite\-\_\-difference.\-fdwrap (
\begin{DoxyParamCaption}
\item[{}]{func, }
\item[{}]{mvals0, }
\item[{}]{pidx, }
\item[{}]{key = {\ttfamily None}, }
\item[{}]{kwargs}
\end{DoxyParamCaption}
)}}\label{namespaceforcebalance_1_1finite__difference_ae484c591ae8c4e5bae73a0ef2660c339}


A function wrapper for finite difference designed for differentiating 'get'-\/type functions. 

Since our finite difference stencils take single-\/variable functions and differentiate them around zero, and our objective function is quite a complicated function, we need a wrapper to serve as a middleman. The alternative would be to copy the finite difference formula to wherever we're taking the derivative, and that is prone to mistakes.

Inputs\-: func = Either get\-\_\-\-X or get\-\_\-\-G; these functions return dictionaries. \mbox{[}'X'\mbox{]} = 1.\-23, \mbox{[}'G'\mbox{]} = \mbox{[}0.\-12, 3,45, ...\mbox{]} mvals0 = The 'central' values of the mathematical parameters -\/ i.\-e. the wrapped function's origin is here. pidx = The index of the parameter that we're differentiating key = either 'G' or 'X', the value we wish to take out of the dictionary kwargs = Anything else we want to pass to the objective function (for instance, Project.\-Objective takes Order as an argument)

Outputs\-: func1 = Wrapped version of func, which takes a single float argument. 

Definition at line 145 of file finite\-\_\-difference.\-py.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=336pt]{namespaceforcebalance_1_1finite__difference_ae484c591ae8c4e5bae73a0ef2660c339_cgraph}
\end{center}
\end{figure}


\hypertarget{namespaceforcebalance_1_1finite__difference_a00322fb65860c390616f74d05037c797}{\index{forcebalance\-::finite\-\_\-difference@{forcebalance\-::finite\-\_\-difference}!fdwrap\-\_\-\-G@{fdwrap\-\_\-\-G}}
\index{fdwrap\-\_\-\-G@{fdwrap\-\_\-\-G}!forcebalance::finite_difference@{forcebalance\-::finite\-\_\-difference}}
\paragraph[{fdwrap\-\_\-\-G}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-finite\-\_\-difference.\-fdwrap\-\_\-\-G (
\begin{DoxyParamCaption}
\item[{}]{tgt, }
\item[{}]{mvals0, }
\item[{}]{pidx}
\end{DoxyParamCaption}
)}}\label{namespaceforcebalance_1_1finite__difference_a00322fb65860c390616f74d05037c797}


A driver to fdwrap for gradients (see documentation for fdwrap) Inputs\-: tgt = The Target containing the objective function that we want to differentiate mvals0 = The 'central' values of the mathematical parameters -\/ i.\-e. 

the wrapped function's origin is here. pidx = The index of the parameter that we're differentiating 

Definition at line 164 of file finite\-\_\-difference.\-py.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespaceforcebalance_1_1finite__difference_a00322fb65860c390616f74d05037c797_cgraph}
\end{center}
\end{figure}


\hypertarget{namespaceforcebalance_1_1finite__difference_a77a0bc1ae3cbbcc8d38a0ef9ca877d6d}{\index{forcebalance\-::finite\-\_\-difference@{forcebalance\-::finite\-\_\-difference}!fdwrap\-\_\-\-H@{fdwrap\-\_\-\-H}}
\index{fdwrap\-\_\-\-H@{fdwrap\-\_\-\-H}!forcebalance::finite_difference@{forcebalance\-::finite\-\_\-difference}}
\paragraph[{fdwrap\-\_\-\-H}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-finite\-\_\-difference.\-fdwrap\-\_\-\-H (
\begin{DoxyParamCaption}
\item[{}]{tgt, }
\item[{}]{mvals0, }
\item[{}]{pidx}
\end{DoxyParamCaption}
)}}\label{namespaceforcebalance_1_1finite__difference_a77a0bc1ae3cbbcc8d38a0ef9ca877d6d}


A driver to fdwrap for Hessians (see documentation for fdwrap) Inputs\-: tgt = The Target containing the objective function that we want to differentiate mvals0 = The 'central' values of the mathematical parameters -\/ i.\-e. 

the wrapped function's origin is here. pidx = The index of the parameter that we're differentiating 

Definition at line 175 of file finite\-\_\-difference.\-py.

\hypertarget{namespaceforcebalance_1_1finite__difference_ad84d3e385db1190e7d8ef58bc08a6c52}{\index{forcebalance\-::finite\-\_\-difference@{forcebalance\-::finite\-\_\-difference}!in\-\_\-fd@{in\-\_\-fd}}
\index{in\-\_\-fd@{in\-\_\-fd}!forcebalance::finite_difference@{forcebalance\-::finite\-\_\-difference}}
\paragraph[{in\-\_\-fd}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-finite\-\_\-difference.\-in\-\_\-fd (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{namespaceforcebalance_1_1finite__difference_ad84d3e385db1190e7d8ef58bc08a6c52}


Invoking this function from anywhere will tell us whether we're being called by a finite-\/difference function. 

This is mainly useful for deciding when to update the 'qualitative indicators' and when not to. 

Definition at line 119 of file finite\-\_\-difference.\-py.

