\hypertarget{classforcebalance_1_1counterpoise_1_1Counterpoise}{\subsection{forcebalance.\-counterpoise.\-Counterpoise Class Reference}
\label{classforcebalance_1_1counterpoise_1_1Counterpoise}\index{forcebalance.\-counterpoise.\-Counterpoise@{forcebalance.\-counterpoise.\-Counterpoise}}
}


Target subclass for matching the counterpoise correction.  




Inheritance diagram for forcebalance.\-counterpoise.\-Counterpoise\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=226pt]{classforcebalance_1_1counterpoise_1_1Counterpoise__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for forcebalance.\-counterpoise.\-Counterpoise\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=226pt]{classforcebalance_1_1counterpoise_1_1Counterpoise__coll__graph}
\end{center}
\end{figure}
\subsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classforcebalance_1_1counterpoise_1_1Counterpoise_a59ca75843c1cc5fec89f40c8a220039d}{\-\_\-\-\_\-init\-\_\-\-\_\-}
\begin{DoxyCompactList}\small\item\em To instantiate \hyperlink{classforcebalance_1_1counterpoise_1_1Counterpoise}{Counterpoise}, we read the coordinates and counterpoise data. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1counterpoise_1_1Counterpoise_a8795bd01b0f62b3f612e4e5c762f96f8}{loadxyz}
\begin{DoxyCompactList}\small\item\em Parse an X\-Y\-Z file which contains several xyz coordinates, and return their elements. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1counterpoise_1_1Counterpoise_afdbc053ae726ac5e4066087bcc1039b1}{load\-\_\-cp}
\begin{DoxyCompactList}\small\item\em Load in the counterpoise data, which is easy; the file consists of floating point numbers separated by newlines. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1counterpoise_1_1Counterpoise_a5fd50a4bb7d5e939b7e99ac648b35d59}{get}
\begin{DoxyCompactList}\small\item\em Gets the objective function for fitting the counterpoise correction. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1target_1_1Target_a606dd136f195c267c05a2455405e5949}{get\-\_\-\-X}
\begin{DoxyCompactList}\small\item\em Computes the objective function contribution without any parametric derivatives. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1target_1_1Target_afa8cc38c8bba8861c072e789717aa049}{get\-\_\-\-G}
\begin{DoxyCompactList}\small\item\em Computes the objective function contribution and its gradient. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1target_1_1Target_a1d2ee27fe86a09769c1816af23b09adb}{get\-\_\-\-H}
\begin{DoxyCompactList}\small\item\em Computes the objective function contribution and its gradient / Hessian. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1target_1_1Target_a5aa4958cea0a48138511567a076c5a82}{link\-\_\-from\-\_\-tempdir}
\item 
def \hyperlink{classforcebalance_1_1target_1_1Target_afe815eafab06ac92f10bbf4b88ad95c8}{refresh\-\_\-temp\-\_\-directory}
\begin{DoxyCompactList}\small\item\em Back up the temporary directory if desired, delete it and then create a new one. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1target_1_1Target_a51d58b55242bf4d4909c1837174f5f3c}{sget}
\begin{DoxyCompactList}\small\item\em Stages the directory for the target, and then calls 'get'. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1target_1_1Target_a78cd29b94cbcc201eed99c78aaef46a4}{submit\-\_\-jobs}
\item 
def \hyperlink{classforcebalance_1_1target_1_1Target_af8d2a4658c87841e40296795aec478bb}{stage}
\begin{DoxyCompactList}\small\item\em Stages the directory for the target, and then launches Work Queue processes if any. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1target_1_1Target_af6099ec09486213869dba2491bd8ea04}{wq\-\_\-complete}
\begin{DoxyCompactList}\small\item\em This method determines whether the Work Queue tasks for the current target have completed. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1target_1_1Target_ac30a4e9d7d9fe06f7caefa5f7cfab09b}{printcool\-\_\-table}
\begin{DoxyCompactList}\small\item\em Print target information in an organized table format. \end{DoxyCompactList}\item 
def \hyperlink{classforcebalance_1_1BaseClass_a73e9a37a7632e79eb99f49bd15aced45}{set\-\_\-option}
\end{DoxyCompactItemize}
\subsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classforcebalance_1_1counterpoise_1_1Counterpoise_a2793b896bff71a3c6b9c6f6568ba1be2}{xyzs}
\begin{DoxyCompactList}\small\item\em Number of snapshots. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1counterpoise_1_1Counterpoise_a55fa01e66b9171055b8d8a754a39997a}{cpqm}
\begin{DoxyCompactList}\small\item\em \hyperlink{classforcebalance_1_1counterpoise_1_1Counterpoise}{Counterpoise} correction data. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1counterpoise_1_1Counterpoise_a4b7699f3f3b2bd34aaa3fe8374c2ff69}{na}
\begin{DoxyCompactList}\small\item\em Number of atoms. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1counterpoise_1_1Counterpoise_a2a8334eaf74299344a1cf53be98f150b}{ns}
\item 
\hyperlink{classforcebalance_1_1target_1_1Target_aa1f01b5b78db253b5b66384ed11ed193}{tempdir}
\begin{DoxyCompactList}\small\item\em Root directory of the whole project. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1target_1_1Target_a6872de5b2d4273b82336ea5b0da29c9e}{rundir}
\begin{DoxyCompactList}\small\item\em The directory in which the simulation is running -\/ this can be updated. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1target_1_1Target_a38a37919783141ea37fdcf8b00ce0aaf}{F\-F}
\begin{DoxyCompactList}\small\item\em Need the forcefield (here for now) \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1target_1_1Target_aad2e385cfbf7b4a68f1c2cb41133fe82}{xct}
\begin{DoxyCompactList}\small\item\em Counts how often the objective function was computed. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1target_1_1Target_aa625ac88c6744eb14ef281d9496d0dbb}{gct}
\begin{DoxyCompactList}\small\item\em Counts how often the gradient was computed. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1target_1_1Target_a5b5a42f78052b47f29ed4b940c6111a1}{hct}
\begin{DoxyCompactList}\small\item\em Counts how often the Hessian was computed. \end{DoxyCompactList}\item 
\hyperlink{classforcebalance_1_1BaseClass_afc6659278497d7245bc492ecf405ccae}{Print\-Option\-Dict}
\item 
\hyperlink{classforcebalance_1_1BaseClass_afd68efa29ccd2f320f4cf82198214aac}{verbose\-\_\-options}
\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
Target subclass for matching the counterpoise correction. 



Definition at line 33 of file counterpoise.\-py.



\subsubsection{Constructor \& Destructor Documentation}
\hypertarget{classforcebalance_1_1counterpoise_1_1Counterpoise_a59ca75843c1cc5fec89f40c8a220039d}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!\-\_\-\-\_\-init\-\_\-\-\_\-@{\-\_\-\-\_\-init\-\_\-\-\_\-}}
\index{\-\_\-\-\_\-init\-\_\-\-\_\-@{\-\_\-\-\_\-init\-\_\-\-\_\-}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{\-\_\-\-\_\-init\-\_\-\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-counterpoise.\-Counterpoise.\-\_\-\-\_\-init\-\_\-\-\_\- (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{options, }
\item[{}]{tgt\-\_\-opts, }
\item[{}]{forcefield}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1counterpoise_1_1Counterpoise_a59ca75843c1cc5fec89f40c8a220039d}


To instantiate \hyperlink{classforcebalance_1_1counterpoise_1_1Counterpoise}{Counterpoise}, we read the coordinates and counterpoise data. 



Definition at line 37 of file counterpoise.\-py.



Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1counterpoise_1_1Counterpoise_a59ca75843c1cc5fec89f40c8a220039d_cgraph}
\end{center}
\end{figure}




\subsubsection{Member Function Documentation}
\hypertarget{classforcebalance_1_1counterpoise_1_1Counterpoise_a5fd50a4bb7d5e939b7e99ac648b35d59}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!get@{get}}
\index{get@{get}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{get}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-counterpoise.\-Counterpoise.\-get (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{mvals, }
\item[{}]{A\-Grad = {\ttfamily False}, }
\item[{}]{A\-Hess = {\ttfamily False}}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1counterpoise_1_1Counterpoise_a5fd50a4bb7d5e939b7e99ac648b35d59}


Gets the objective function for fitting the counterpoise correction. 

As opposed to Ab\-Initio\-\_\-\-G\-M\-X\-X2, which calls an external program, this script actually computes the empirical interaction given the force field parameters.

It loops through the snapshots and atom pairs, and computes pairwise contributions to an energy term according to hard-\/coded functional forms.

One potential issue is that we go through all atom pairs instead of looking only at atom pairs between different fragments. This means that even for two infinitely separated fragments it will predict a finite C\-P correction. While it might be okay to apply such a potential in practice, there will be some issues for the fitting. Thus, we assume the last snapshot to be C\-P-\/free and subtract that value of the potential back out.

Note that forces and parametric derivatives are not implemented.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em mvals} & Mathematical parameter values \\
\hline
\mbox{\tt in}  & {\em A\-Grad} & Switch to turn on analytic gradient (not implemented) \\
\hline
\mbox{\tt in}  & {\em A\-Hess} & Switch to turn on analytic Hessian (not implemented) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Answer Contribution to the objective function 
\end{DoxyReturn}


Definition at line 124 of file counterpoise.\-py.

\hypertarget{classforcebalance_1_1target_1_1Target_afa8cc38c8bba8861c072e789717aa049}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!get\-\_\-\-G@{get\-\_\-\-G}}
\index{get\-\_\-\-G@{get\-\_\-\-G}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{get\-\_\-\-G}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-target.\-Target.\-get\-\_\-\-G (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{mvals = {\ttfamily None}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1target_1_1Target_afa8cc38c8bba8861c072e789717aa049}


Computes the objective function contribution and its gradient. 

First the low-\/level 'get' method is called with the analytic gradient switch turned on. Then we loop through the fd1\-\_\-pids and compute the corresponding elements of the gradient by finite difference, if the 'fdgrad' switch is turned on. Alternately we can compute the gradient elements and diagonal Hessian elements at the same time using central difference if 'fdhessdiag' is turned on. 

Definition at line 172 of file target.\-py.



Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1target_1_1Target_afa8cc38c8bba8861c072e789717aa049_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1target_1_1Target_a1d2ee27fe86a09769c1816af23b09adb}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!get\-\_\-\-H@{get\-\_\-\-H}}
\index{get\-\_\-\-H@{get\-\_\-\-H}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{get\-\_\-\-H}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-target.\-Target.\-get\-\_\-\-H (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{mvals = {\ttfamily None}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1target_1_1Target_a1d2ee27fe86a09769c1816af23b09adb}


Computes the objective function contribution and its gradient / Hessian. 

First the low-\/level 'get' method is called with the analytic gradient and Hessian both turned on. Then we loop through the fd1\-\_\-pids and compute the corresponding elements of the gradient by finite difference, if the 'fdgrad' switch is turned on.

This is followed by looping through the fd2\-\_\-pids and computing the corresponding Hessian elements by finite difference. Forward finite difference is used throughout for the sake of speed. 

Definition at line 195 of file target.\-py.



Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1target_1_1Target_a1d2ee27fe86a09769c1816af23b09adb_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1target_1_1Target_a606dd136f195c267c05a2455405e5949}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!get\-\_\-\-X@{get\-\_\-\-X}}
\index{get\-\_\-\-X@{get\-\_\-\-X}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{get\-\_\-\-X}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-target.\-Target.\-get\-\_\-\-X (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{mvals = {\ttfamily None}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1target_1_1Target_a606dd136f195c267c05a2455405e5949}


Computes the objective function contribution without any parametric derivatives. 



Definition at line 155 of file target.\-py.



Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1target_1_1Target_a606dd136f195c267c05a2455405e5949_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1target_1_1Target_a5aa4958cea0a48138511567a076c5a82}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!link\-\_\-from\-\_\-tempdir@{link\-\_\-from\-\_\-tempdir}}
\index{link\-\_\-from\-\_\-tempdir@{link\-\_\-from\-\_\-tempdir}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{link\-\_\-from\-\_\-tempdir}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-target.\-Target.\-link\-\_\-from\-\_\-tempdir (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{absdestdir}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1target_1_1Target_a5aa4958cea0a48138511567a076c5a82}


Definition at line 213 of file target.\-py.

\hypertarget{classforcebalance_1_1counterpoise_1_1Counterpoise_afdbc053ae726ac5e4066087bcc1039b1}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!load\-\_\-cp@{load\-\_\-cp}}
\index{load\-\_\-cp@{load\-\_\-cp}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{load\-\_\-cp}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-counterpoise.\-Counterpoise.\-load\-\_\-cp (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{fnm}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1counterpoise_1_1Counterpoise_afdbc053ae726ac5e4066087bcc1039b1}


Load in the counterpoise data, which is easy; the file consists of floating point numbers separated by newlines. 



Definition at line 95 of file counterpoise.\-py.

\hypertarget{classforcebalance_1_1counterpoise_1_1Counterpoise_a8795bd01b0f62b3f612e4e5c762f96f8}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!loadxyz@{loadxyz}}
\index{loadxyz@{loadxyz}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{loadxyz}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-counterpoise.\-Counterpoise.\-loadxyz (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{fnm}
\end{DoxyParamCaption}
)}}\label{classforcebalance_1_1counterpoise_1_1Counterpoise_a8795bd01b0f62b3f612e4e5c762f96f8}


Parse an X\-Y\-Z file which contains several xyz coordinates, and return their elements. 

\begin{DoxyVerb}     @param[in] fnm The input XYZ file name
     @return elem A list of chemical elements in the XYZ file
     @return xyzs A list of XYZ coordinates (number of snapshots times number of atoms)
\end{DoxyVerb}
 \begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000006}{Todo}]I should probably put this into a more general library for reading coordinates. \end{DoxyRefDesc}


Definition at line 63 of file counterpoise.\-py.

\hypertarget{classforcebalance_1_1target_1_1Target_ac30a4e9d7d9fe06f7caefa5f7cfab09b}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!printcool\-\_\-table@{printcool\-\_\-table}}
\index{printcool\-\_\-table@{printcool\-\_\-table}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{printcool\-\_\-table}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-target.\-Target.\-printcool\-\_\-table (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{data = {\ttfamily OrderedDict(\mbox{[}\mbox{]})}, }
\item[{}]{headings = {\ttfamily \mbox{[}\mbox{]}}, }
\item[{}]{banner = {\ttfamily None}, }
\item[{}]{footnote = {\ttfamily None}, }
\item[{}]{color = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1target_1_1Target_ac30a4e9d7d9fe06f7caefa5f7cfab09b}


Print target information in an organized table format. 

Implemented 6/30 because multiple targets are already printing out tabulated information in very similar ways. This method is a simple wrapper around printcool\-\_\-dictionary.

The input should be something like\-:


\begin{DoxyParams}{Parameters}
{\em data} & Column contents in the form of an Ordered\-Dict, with string keys and list vals. The key is printed in the leftmost column and the vals are printed in the other columns. If non-\/strings are passed, they will be converted to strings (not recommended).\\
\hline
{\em headings} & Column headings in the form of a list. It must be equal to the number to the list length for each of the \char`\"{}vals\char`\"{} in Ordered\-Dict, plus one. Use \char`\"{}\textbackslash{}n\char`\"{} characters to specify long column names that may take up more than one line.\\
\hline
{\em banner} & Optional heading line, which will be printed at the top in the title. \\
\hline
{\em footnote} & Optional footnote line, which will be printed at the bottom. \\
\hline
\end{DoxyParams}


Definition at line 367 of file target.\-py.



Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1target_1_1Target_ac30a4e9d7d9fe06f7caefa5f7cfab09b_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1target_1_1Target_afe815eafab06ac92f10bbf4b88ad95c8}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!refresh\-\_\-temp\-\_\-directory@{refresh\-\_\-temp\-\_\-directory}}
\index{refresh\-\_\-temp\-\_\-directory@{refresh\-\_\-temp\-\_\-directory}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{refresh\-\_\-temp\-\_\-directory}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-target.\-Target.\-refresh\-\_\-temp\-\_\-directory (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1target_1_1Target_afe815eafab06ac92f10bbf4b88ad95c8}


Back up the temporary directory if desired, delete it and then create a new one. 



Definition at line 219 of file target.\-py.



Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1target_1_1Target_afe815eafab06ac92f10bbf4b88ad95c8_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1BaseClass_a73e9a37a7632e79eb99f49bd15aced45}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!set\-\_\-option@{set\-\_\-option}}
\index{set\-\_\-option@{set\-\_\-option}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{set\-\_\-option}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-Base\-Class.\-set\-\_\-option (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{in\-\_\-dict, }
\item[{}]{src\-\_\-key, }
\item[{}]{dest\-\_\-key = {\ttfamily None}, }
\item[{}]{val = {\ttfamily None}, }
\item[{}]{default = {\ttfamily None}, }
\item[{}]{forceprint = {\ttfamily False}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1BaseClass_a73e9a37a7632e79eb99f49bd15aced45}


Definition at line 32 of file \-\_\-\-\_\-init\-\_\-\-\_\-.\-py.

\hypertarget{classforcebalance_1_1target_1_1Target_a51d58b55242bf4d4909c1837174f5f3c}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!sget@{sget}}
\index{sget@{sget}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{sget}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-target.\-Target.\-sget (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{mvals, }
\item[{}]{A\-Grad = {\ttfamily False}, }
\item[{}]{A\-Hess = {\ttfamily False}, }
\item[{}]{customdir = {\ttfamily None}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1target_1_1Target_a51d58b55242bf4d4909c1837174f5f3c}


Stages the directory for the target, and then calls 'get'. 

The 'get' method should not worry about the directory that it's running in. 

Definition at line 266 of file target.\-py.



Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1target_1_1Target_a51d58b55242bf4d4909c1837174f5f3c_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1target_1_1Target_af8d2a4658c87841e40296795aec478bb}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!stage@{stage}}
\index{stage@{stage}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{stage}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-target.\-Target.\-stage (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{mvals, }
\item[{}]{A\-Grad = {\ttfamily False}, }
\item[{}]{A\-Hess = {\ttfamily False}, }
\item[{}]{customdir = {\ttfamily None}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1target_1_1Target_af8d2a4658c87841e40296795aec478bb}


Stages the directory for the target, and then launches Work Queue processes if any. 

The 'get' method should not worry about the directory that it's running in. 

Definition at line 301 of file target.\-py.



Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1target_1_1Target_af8d2a4658c87841e40296795aec478bb_cgraph}
\end{center}
\end{figure}


\hypertarget{classforcebalance_1_1target_1_1Target_a78cd29b94cbcc201eed99c78aaef46a4}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!submit\-\_\-jobs@{submit\-\_\-jobs}}
\index{submit\-\_\-jobs@{submit\-\_\-jobs}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{submit\-\_\-jobs}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-target.\-Target.\-submit\-\_\-jobs (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{mvals, }
\item[{}]{A\-Grad = {\ttfamily False}, }
\item[{}]{A\-Hess = {\ttfamily False}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1target_1_1Target_a78cd29b94cbcc201eed99c78aaef46a4}


Definition at line 291 of file target.\-py.

\hypertarget{classforcebalance_1_1target_1_1Target_af6099ec09486213869dba2491bd8ea04}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!wq\-\_\-complete@{wq\-\_\-complete}}
\index{wq\-\_\-complete@{wq\-\_\-complete}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{wq\-\_\-complete}]{\setlength{\rightskip}{0pt plus 5cm}def forcebalance.\-target.\-Target.\-wq\-\_\-complete (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1target_1_1Target_af6099ec09486213869dba2491bd8ea04}


This method determines whether the Work Queue tasks for the current target have completed. 



Definition at line 331 of file target.\-py.



Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classforcebalance_1_1target_1_1Target_af6099ec09486213869dba2491bd8ea04_cgraph}
\end{center}
\end{figure}




\subsubsection{Member Data Documentation}
\hypertarget{classforcebalance_1_1counterpoise_1_1Counterpoise_a55fa01e66b9171055b8d8a754a39997a}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!cpqm@{cpqm}}
\index{cpqm@{cpqm}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{cpqm}]{\setlength{\rightskip}{0pt plus 5cm}forcebalance.\-counterpoise.\-Counterpoise.\-cpqm}}\label{classforcebalance_1_1counterpoise_1_1Counterpoise_a55fa01e66b9171055b8d8a754a39997a}


\hyperlink{classforcebalance_1_1counterpoise_1_1Counterpoise}{Counterpoise} correction data. 



Definition at line 53 of file counterpoise.\-py.

\hypertarget{classforcebalance_1_1target_1_1Target_a38a37919783141ea37fdcf8b00ce0aaf}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!F\-F@{F\-F}}
\index{F\-F@{F\-F}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{F\-F}]{\setlength{\rightskip}{0pt plus 5cm}forcebalance.\-target.\-Target.\-F\-F\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1target_1_1Target_a38a37919783141ea37fdcf8b00ce0aaf}


Need the forcefield (here for now) 



Definition at line 139 of file target.\-py.

\hypertarget{classforcebalance_1_1target_1_1Target_aa625ac88c6744eb14ef281d9496d0dbb}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!gct@{gct}}
\index{gct@{gct}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{gct}]{\setlength{\rightskip}{0pt plus 5cm}forcebalance.\-target.\-Target.\-gct\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1target_1_1Target_aa625ac88c6744eb14ef281d9496d0dbb}


Counts how often the gradient was computed. 



Definition at line 143 of file target.\-py.

\hypertarget{classforcebalance_1_1target_1_1Target_a5b5a42f78052b47f29ed4b940c6111a1}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!hct@{hct}}
\index{hct@{hct}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{hct}]{\setlength{\rightskip}{0pt plus 5cm}forcebalance.\-target.\-Target.\-hct\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1target_1_1Target_a5b5a42f78052b47f29ed4b940c6111a1}


Counts how often the Hessian was computed. 



Definition at line 145 of file target.\-py.

\hypertarget{classforcebalance_1_1counterpoise_1_1Counterpoise_a4b7699f3f3b2bd34aaa3fe8374c2ff69}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!na@{na}}
\index{na@{na}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{na}]{\setlength{\rightskip}{0pt plus 5cm}forcebalance.\-counterpoise.\-Counterpoise.\-na}}\label{classforcebalance_1_1counterpoise_1_1Counterpoise_a4b7699f3f3b2bd34aaa3fe8374c2ff69}


Number of atoms. 



Definition at line 76 of file counterpoise.\-py.

\hypertarget{classforcebalance_1_1counterpoise_1_1Counterpoise_a2a8334eaf74299344a1cf53be98f150b}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!ns@{ns}}
\index{ns@{ns}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{ns}]{\setlength{\rightskip}{0pt plus 5cm}forcebalance.\-counterpoise.\-Counterpoise.\-ns}}\label{classforcebalance_1_1counterpoise_1_1Counterpoise_a2a8334eaf74299344a1cf53be98f150b}


Definition at line 89 of file counterpoise.\-py.

\hypertarget{classforcebalance_1_1BaseClass_afc6659278497d7245bc492ecf405ccae}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!Print\-Option\-Dict@{Print\-Option\-Dict}}
\index{Print\-Option\-Dict@{Print\-Option\-Dict}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{Print\-Option\-Dict}]{\setlength{\rightskip}{0pt plus 5cm}forcebalance.\-Base\-Class.\-Print\-Option\-Dict\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1BaseClass_afc6659278497d7245bc492ecf405ccae}


Definition at line 29 of file \-\_\-\-\_\-init\-\_\-\-\_\-.\-py.

\hypertarget{classforcebalance_1_1target_1_1Target_a6872de5b2d4273b82336ea5b0da29c9e}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!rundir@{rundir}}
\index{rundir@{rundir}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{rundir}]{\setlength{\rightskip}{0pt plus 5cm}forcebalance.\-target.\-Target.\-rundir\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1target_1_1Target_a6872de5b2d4273b82336ea5b0da29c9e}


The directory in which the simulation is running -\/ this can be updated. 

Directory of the current iteration; if not None, then the simulation runs under temp/target\-\_\-name/iteration\-\_\-number The 'customdir' is customizable and can go below anything.

Definition at line 137 of file target.\-py.

\hypertarget{classforcebalance_1_1target_1_1Target_aa1f01b5b78db253b5b66384ed11ed193}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!tempdir@{tempdir}}
\index{tempdir@{tempdir}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{tempdir}]{\setlength{\rightskip}{0pt plus 5cm}forcebalance.\-target.\-Target.\-tempdir\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1target_1_1Target_aa1f01b5b78db253b5b66384ed11ed193}


Root directory of the whole project. 

Name of the target Type of target Relative weight of the target Switch for finite difference gradients Switch for finite difference Hessians Switch for F\-D gradients + Hessian diagonals How many seconds to sleep (if any) Parameter types that trigger F\-D gradient elements Parameter types that trigger F\-D Hessian elements Finite difference step size Whether to make backup files Relative directory of target Temporary (working) directory; it is temp/(target\-\_\-name) Used for storing temporary variables that don't change through the course of the optimization 

Definition at line 135 of file target.\-py.

\hypertarget{classforcebalance_1_1BaseClass_afd68efa29ccd2f320f4cf82198214aac}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!verbose\-\_\-options@{verbose\-\_\-options}}
\index{verbose\-\_\-options@{verbose\-\_\-options}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{verbose\-\_\-options}]{\setlength{\rightskip}{0pt plus 5cm}forcebalance.\-Base\-Class.\-verbose\-\_\-options\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1BaseClass_afd68efa29ccd2f320f4cf82198214aac}


Definition at line 30 of file \-\_\-\-\_\-init\-\_\-\-\_\-.\-py.

\hypertarget{classforcebalance_1_1target_1_1Target_aad2e385cfbf7b4a68f1c2cb41133fe82}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!xct@{xct}}
\index{xct@{xct}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{xct}]{\setlength{\rightskip}{0pt plus 5cm}forcebalance.\-target.\-Target.\-xct\hspace{0.3cm}{\ttfamily [inherited]}}}\label{classforcebalance_1_1target_1_1Target_aad2e385cfbf7b4a68f1c2cb41133fe82}


Counts how often the objective function was computed. 



Definition at line 141 of file target.\-py.

\hypertarget{classforcebalance_1_1counterpoise_1_1Counterpoise_a2793b896bff71a3c6b9c6f6568ba1be2}{\index{forcebalance\-::counterpoise\-::\-Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}!xyzs@{xyzs}}
\index{xyzs@{xyzs}!forcebalance::counterpoise::Counterpoise@{forcebalance\-::counterpoise\-::\-Counterpoise}}
\paragraph[{xyzs}]{\setlength{\rightskip}{0pt plus 5cm}forcebalance.\-counterpoise.\-Counterpoise.\-xyzs}}\label{classforcebalance_1_1counterpoise_1_1Counterpoise_a2793b896bff71a3c6b9c6f6568ba1be2}


Number of snapshots. 

X\-Y\-Z elements and coordinates 

Definition at line 51 of file counterpoise.\-py.



The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
\hyperlink{counterpoise_8py}{counterpoise.\-py}\end{DoxyCompactItemize}
