<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ForceBalance: forcebalance.fitsim.FittingSimulation Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="ForceBalanceLogo_sm.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">ForceBalance
   &#160;<span id="projectnumber">0.11.0</span>
   </div>
   <div id="projectbrief">Automated optimization of force fields and empirical potentials</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="api/roadmap.html"><span>API</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="api/roadmap.html"><span>API</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="api/roadmap.html"><span>API</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="api/roadmap.html"><span>API</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="api/roadmap.html"><span>API</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="api/roadmap.html"><span>API</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="api/roadmap.html"><span>API</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="api/roadmap.html"><span>API</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="api/roadmap.html"><span>API</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="api/namespaces.html"><span>API</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="todo.html"><span>To-Do&#160;List</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="todo.html"><span>To-Do&#160;List</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="todo.html"><span>To-Do&#160;List</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="todo.html"><span>To-Do&#160;List</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="todo.html"><span>To-Do&#160;List</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="todo.html"><span>To-Do&#160;List</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="todo.html"><span>To-Do&#160;List</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="todo.html"><span>To-Do&#160;List</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="todo.html"><span>To-Do&#160;List</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="todo.html"><span>To-Do&#160;List</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="todo.html"><span>To-Do&#160;List</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="todo.html"><span>To-Do&#160;List</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="todo.html"><span>To-Do&#160;List</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="todo.html"><span>To-Do&#160;List</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="todo.html"><span>To-Do&#160;List</span></a></li>
      <li><a href="installation.html"><span>Installation</span></a></li>
      <li><a href="usage.html"><span>Usage</span></a></li>
      <li><a href="tutorial.html"><span>Tutorial</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="todo.html"><span>To-Do&#160;List</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>forcebalance</b>      </li>
      <li class="navelem"><b>fitsim</b>      </li>
      <li class="navelem"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html">FittingSimulation</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">forcebalance.fitsim.FittingSimulation Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="forcebalance::fitsim::FittingSimulation" -->
<p>Base class for all fitting simulations.  
 <a href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#details">More...</a></p>

<p><a href="classforcebalance_1_1fitsim_1_1FittingSimulation-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#ab5607d3573bc19a9e498a31ce1fc16a5">__init__</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiation of a fitting simulation.  <a href="#ab5607d3573bc19a9e498a31ce1fc16a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace7a13d0b32840f2f315f8e9ec03e44a"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::get_X" ref="ace7a13d0b32840f2f315f8e9ec03e44a" args="" -->
def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#ace7a13d0b32840f2f315f8e9ec03e44a">get_X</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the objective function contribution without any parametric derivatives. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#aa44e9e4785a7fcfd48b886a150563e39">get_G</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the objective function contribution and its gradient.  <a href="#aa44e9e4785a7fcfd48b886a150563e39"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#a80470658b80217408659b1f88bdc0809">get_H</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the objective function contribution and its gradient / Hessian.  <a href="#a80470658b80217408659b1f88bdc0809"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#aab376d671fd62dbe5093d53829659d01">refresh_temp_directory</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Back up the temporary directory if desired, delete it and then create a new one.  <a href="#aab376d671fd62dbe5093d53829659d01"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#ab973882d13b0b632a27e3507fcf47a7b">get</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a76040decaf7394a92926c2d9f1078655"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::root" ref="a76040decaf7394a92926c2d9f1078655" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#a76040decaf7394a92926c2d9f1078655">root</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Root directory of the whole project. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae41004957cd1418e863f9b999a871b8b"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::name" ref="ae41004957cd1418e863f9b999a871b8b" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#ae41004957cd1418e863f9b999a871b8b">name</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the fitting simulation. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7212c361be543ff72ac361dfa4bc34e6"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::simtype" ref="a7212c361be543ff72ac361dfa4bc34e6" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#a7212c361be543ff72ac361dfa4bc34e6">simtype</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of fitting simulation. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b5a21741a2f396da1c359390c4e9dae"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::weight" ref="a2b5a21741a2f396da1c359390c4e9dae" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#a2b5a21741a2f396da1c359390c4e9dae">weight</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Relative weight of the fitting simulation. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a84044f9e64aab47308d0f0ec82950d55"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::fdgrad" ref="a84044f9e64aab47308d0f0ec82950d55" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#a84044f9e64aab47308d0f0ec82950d55">fdgrad</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch for finite difference gradients. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa4c6c2eec1e23cf418f7a824253dd58b"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::fdhess" ref="aa4c6c2eec1e23cf418f7a824253dd58b" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#aa4c6c2eec1e23cf418f7a824253dd58b">fdhess</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch for finite difference Hessians. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5df65ebb18d730b413aedb3ff8048709"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::fdhessdiag" ref="a5df65ebb18d730b413aedb3ff8048709" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#a5df65ebb18d730b413aedb3ff8048709">fdhessdiag</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch for FD gradients + Hessian diagonals. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a41662b78b81d379b7a1498d4ec825d66"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::fd1_pids" ref="a41662b78b81d379b7a1498d4ec825d66" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#a41662b78b81d379b7a1498d4ec825d66">fd1_pids</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameter types that trigger FD gradient elements. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a98cb251831e3e45773bca28d83b84db6"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::fd2_pids" ref="a98cb251831e3e45773bca28d83b84db6" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#a98cb251831e3e45773bca28d83b84db6">fd2_pids</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameter types that trigger FD Hessian elements. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb5b32abde1decc55919c7b2703e77f1"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::h" ref="abb5b32abde1decc55919c7b2703e77f1" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#abb5b32abde1decc55919c7b2703e77f1">h</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Finite difference step size. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#a4322f7bb27528a5d5c2238235d139a8b">usepvals</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Manual override: bypass the parameter transformation and use physical parameters directly.  <a href="#a4322f7bb27528a5d5c2238235d139a8b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaf8eee445e022b6a816d2ca9dd52576e"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::simdir" ref="aaf8eee445e022b6a816d2ca9dd52576e" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#aaf8eee445e022b6a816d2ca9dd52576e">simdir</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Relative directory of fitting simulation. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a237bc981c7fee3f5b92193fe36345a9e"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::tempdir" ref="a237bc981c7fee3f5b92193fe36345a9e" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#a237bc981c7fee3f5b92193fe36345a9e">tempdir</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Temporary (working) directory. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaa398ddb1126392589b46c77ebb0c36e"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::FF" ref="aaa398ddb1126392589b46c77ebb0c36e" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#aaa398ddb1126392589b46c77ebb0c36e">FF</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Need the forcefield (here for now) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac3cf27fed508ac5b6090d0fec3f6dc1b"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::xct" ref="ac3cf27fed508ac5b6090d0fec3f6dc1b" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#ac3cf27fed508ac5b6090d0fec3f6dc1b">xct</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Counts how often the objective function was computed. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8324ae7fd78cea388792e41b3aff77a3"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::gct" ref="a8324ae7fd78cea388792e41b3aff77a3" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#a8324ae7fd78cea388792e41b3aff77a3">gct</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Counts how often the gradient was computed. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a97458cd425fd521ed5a07226c2bd9a3b"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::hct" ref="a97458cd425fd521ed5a07226c2bd9a3b" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#a97458cd425fd521ed5a07226c2bd9a3b">hct</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Counts how often the Hessian was computed. <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Base class for all fitting simulations. </p>
<p>In ForceBalance a 'fitting simulation' is defined as a simulation which computes a quantity that we can compare to a reference. The force field parameters are tuned to reproduce the reference value as closely as possible.</p>
<p>The 'computable quantities' may include energies and forces where the reference values come from QM calculations (energy and force matching), energies from an EDA analysis (Maybe in the future, FDA?), molecular properties (like polarizability, refractive indices, multipole moments or vibrational frequencies), relative entropies, and bulk properties. Single-molecule or bulk properties can even come from the experiment!</p>
<p>The central idea in ForceBalance is that each quantity makes a contribution to the overall objective function. So we can build force fields that fit several quantities at once, rather than putting all of our chips behind energy and force matching. In the future ForceBalance may even include multiobjective optimization into the optimizer.</p>
<p>The optimization is done by way of minimizing an 'objective function', which is comprised of squared differences between the computed and reference values. These differences are not computed in this file, but rather in subclasses that use <a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html" title="Base class for all fitting simulations.">FittingSimulation</a> as a base class. Thus, the contents of <a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html" title="Base class for all fitting simulations.">FittingSimulation</a> itself are meant to be as general as possible, because the pertinent variables apply to all types of fitting simulations.</p>
<p>An important node: <a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html" title="Base class for all fitting simulations.">FittingSimulation</a> requires that all subclasses have a method get(self,mvals,AGrad=False,AHess=False,tempdir=None) that does the following:</p>
<p>Inputs: mvals = The parameter vector, which modifies the force field (Note to self: We include mvals with each FitSim because we can create copies of the force field and do finite difference derivatives) AGrad, AHess = Boolean switches for computing analytic gradients and Hessians tempdir = Temporary directory; we can create multiple of these for parallelization of our jobs (a future consideration)</p>
<p>Outputs: Answer = {'X': Number, 'G': numpy.array(np), 'H': numpy.array((np,np)) } 'X' = The objective function itself 'G' = The gradient, elements not computed analytically are zero 'H' = The Hessian, elements not computed analytically are zero</p>
<p>This is the only global requirement of a <a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html" title="Base class for all fitting simulations.">FittingSimulation</a>. Obviously 'get' itself is not defined here, because its calculation will depend entirely on specifically which simulation we wish to run. However, this should give us a unified framework which will faciliate rapid implementation of FittingSimulations.</p>
<p>Future work: Robert suggested that I could enable automatic detection of which parameters need to be computed by finite difference. Not a bad idea. :) </p>

<p>Definition at line <a class="el" href="fitsim_8py_source.html#l00071">71</a> of file <a class="el" href="fitsim_8py_source.html">fitsim.py</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab5607d3573bc19a9e498a31ce1fc16a5"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::__init__" ref="ab5607d3573bc19a9e498a31ce1fc16a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#ab5607d3573bc19a9e498a31ce1fc16a5">forcebalance.fitsim.FittingSimulation.__init__</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sim_opts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>forcefield</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Instantiation of a fitting simulation. </p>
<p>All options here are intended to be usable by every conceivable type of fitting simulation (in other words, only add content here if it's widely applicable.)</p>
<p>If we want to add attributes that are more specific (i.e. a set of reference forces for force matching), they are added in the subclass ForceEnergyMatch that subclasses <a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html" title="Base class for all fitting simulations.">FittingSimulation</a>. </p>

<p>Definition at line <a class="el" href="fitsim_8py_source.html#l00090">90</a> of file <a class="el" href="fitsim_8py_source.html">fitsim.py</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ab973882d13b0b632a27e3507fcf47a7b"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::get" ref="ab973882d13b0b632a27e3507fcf47a7b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#ab973882d13b0b632a27e3507fcf47a7b">forcebalance.fitsim.FittingSimulation.get</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mvals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>AGrad</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>AHess</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tempdir</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Write documentation here later.</dd></dl>

<p>Definition at line <a class="el" href="fitsim_8py_source.html#l00227">227</a> of file <a class="el" href="fitsim_8py_source.html">fitsim.py</a>.</p>

</div>
</div>
<a class="anchor" id="aa44e9e4785a7fcfd48b886a150563e39"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::get_G" ref="aa44e9e4785a7fcfd48b886a150563e39" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#aa44e9e4785a7fcfd48b886a150563e39">forcebalance.fitsim.FittingSimulation.get_G</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mvals</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Computes the objective function contribution and its gradient. </p>
<p>First the low-level 'get' method is called with the analytic gradient switch turned on. Then we loop through the fd1_pids and compute the corresponding elements of the gradient by finite difference, if the 'fdgrad' switch is turned on. Alternately we can compute the gradient elements and diagonal Hessian elements at the same time using central difference if 'fdhessdiag' is turned on. </p>

<p>Definition at line <a class="el" href="fitsim_8py_source.html#l00161">161</a> of file <a class="el" href="fitsim_8py_source.html">fitsim.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classforcebalance_1_1fitsim_1_1FittingSimulation_aa44e9e4785a7fcfd48b886a150563e39_cgraph.svg" width="742" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a80470658b80217408659b1f88bdc0809"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::get_H" ref="a80470658b80217408659b1f88bdc0809" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#a80470658b80217408659b1f88bdc0809">forcebalance.fitsim.FittingSimulation.get_H</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mvals</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Computes the objective function contribution and its gradient / Hessian. </p>
<p>First the low-level 'get' method is called with the analytic gradient and Hessian both turned on. Then we loop through the fd1_pids and compute the corresponding elements of the gradient by finite difference, if the 'fdgrad' switch is turned on.</p>
<p>This is followed by looping through the fd2_pids and computing the corresponding Hessian elements by finite difference. Forward finite difference is used throughout for the sake of speed. </p>

<p>Definition at line <a class="el" href="fitsim_8py_source.html#l00186">186</a> of file <a class="el" href="fitsim_8py_source.html">fitsim.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classforcebalance_1_1fitsim_1_1FittingSimulation_a80470658b80217408659b1f88bdc0809_cgraph.svg" width="742" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aab376d671fd62dbe5093d53829659d01"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::refresh_temp_directory" ref="aab376d671fd62dbe5093d53829659d01" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#aab376d671fd62dbe5093d53829659d01">forcebalance.fitsim.FittingSimulation.refresh_temp_directory</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Back up the temporary directory if desired, delete it and then create a new one. </p>

<p>Definition at line <a class="el" href="fitsim_8py_source.html#l00208">208</a> of file <a class="el" href="fitsim_8py_source.html">fitsim.py</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a4322f7bb27528a5d5c2238235d139a8b"></a><!-- doxytag: member="forcebalance::fitsim::FittingSimulation::usepvals" ref="a4322f7bb27528a5d5c2238235d139a8b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classforcebalance_1_1fitsim_1_1FittingSimulation.html#a4322f7bb27528a5d5c2238235d139a8b">forcebalance::fitsim.FittingSimulation::usepvals</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Manual override: bypass the parameter transformation and use physical parameters directly. </p>
<p>For power users only! :) </p>

<p>Definition at line <a class="el" href="fitsim_8py_source.html#l00102">102</a> of file <a class="el" href="fitsim_8py_source.html">fitsim.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>forcebalance/forcebalance/<a class="el" href="fitsim_8py_source.html">fitsim.py</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Thu Feb 2 2012 13:21:20 for ForceBalance by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
