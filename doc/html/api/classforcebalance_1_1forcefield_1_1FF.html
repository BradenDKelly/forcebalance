<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ForceBalance API: forcebalance.forcefield.FF Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ForceBalanceLogo_sm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ForceBalance API
   &#160;<span id="projectnumber">1.1</span>
   </div>
   <div id="projectbrief">Automated optimization of force fields and empirical potentials</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../index.html"><span>Main Page</span></a></li>
      <li ><a href="roadmap.html"><span>Project Roadmap</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceforcebalance.html">forcebalance</a></li><li class="navelem"><a class="el" href="namespaceforcebalance_1_1forcefield.html">forcefield</a></li><li class="navelem"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html">FF</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classforcebalance_1_1forcefield_1_1FF-members.html">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">forcebalance.forcefield.FF Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Force field class.  
 <a href="classforcebalance_1_1forcefield_1_1FF.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for forcebalance.forcefield.FF:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classforcebalance_1_1forcefield_1_1FF__inherit__graph.svg" width="187" height="211"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for forcebalance.forcefield.FF:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classforcebalance_1_1forcefield_1_1FF__coll__graph.svg" width="187" height="211"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aef2e183571128eea70132c7be2a8dc5d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#aef2e183571128eea70132c7be2a8dc5d">__init__</a></td></tr>
<tr class="memdesc:aef2e183571128eea70132c7be2a8dc5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiation of force field class.  <a href="#aef2e183571128eea70132c7be2a8dc5d"></a><br/></td></tr>
<tr class="separator:aef2e183571128eea70132c7be2a8dc5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a142d41c86b9b0ef57f93ec6fb349357b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a142d41c86b9b0ef57f93ec6fb349357b">addff</a></td></tr>
<tr class="memdesc:a142d41c86b9b0ef57f93ec6fb349357b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a force field file and add it to the class.  <a href="#a142d41c86b9b0ef57f93ec6fb349357b"></a><br/></td></tr>
<tr class="separator:a142d41c86b9b0ef57f93ec6fb349357b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4b5d5b79c89ab618ae968348bdfda3a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#ab4b5d5b79c89ab618ae968348bdfda3a">addff_txt</a></td></tr>
<tr class="memdesc:ab4b5d5b79c89ab618ae968348bdfda3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a text force field and create several important instance variables.  <a href="#ab4b5d5b79c89ab618ae968348bdfda3a"></a><br/></td></tr>
<tr class="separator:ab4b5d5b79c89ab618ae968348bdfda3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaed8b2b725141c301f58016c80acec27"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#aaed8b2b725141c301f58016c80acec27">addff_xml</a></td></tr>
<tr class="memdesc:aaed8b2b725141c301f58016c80acec27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse an XML force field file and create important instance variables.  <a href="#aaed8b2b725141c301f58016c80acec27"></a><br/></td></tr>
<tr class="separator:aaed8b2b725141c301f58016c80acec27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecd595ddb369aedd7009e6756276ffc5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#aecd595ddb369aedd7009e6756276ffc5">make</a></td></tr>
<tr class="memdesc:aecd595ddb369aedd7009e6756276ffc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new force field using provided parameter values.  <a href="#aecd595ddb369aedd7009e6756276ffc5"></a><br/></td></tr>
<tr class="separator:aecd595ddb369aedd7009e6756276ffc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0540c3df2c0dece9f2711cc04fd958d4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a0540c3df2c0dece9f2711cc04fd958d4">make_redirect</a></td></tr>
<tr class="separator:a0540c3df2c0dece9f2711cc04fd958d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2515e2361eb460edeab69f3d7742d3d9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a2515e2361eb460edeab69f3d7742d3d9">find_spacings</a></td></tr>
<tr class="separator:a2515e2361eb460edeab69f3d7742d3d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a260031479e0429e497f56987de541930"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a260031479e0429e497f56987de541930">create_pvals</a></td></tr>
<tr class="memdesc:a260031479e0429e497f56987de541930"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts mathematical to physical parameters.  <a href="#a260031479e0429e497f56987de541930"></a><br/></td></tr>
<tr class="separator:a260031479e0429e497f56987de541930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5fba4d3e22f210632ead3653e6e12dd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#ae5fba4d3e22f210632ead3653e6e12dd">create_mvals</a></td></tr>
<tr class="memdesc:ae5fba4d3e22f210632ead3653e6e12dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts physical to mathematical parameters.  <a href="#ae5fba4d3e22f210632ead3653e6e12dd"></a><br/></td></tr>
<tr class="separator:ae5fba4d3e22f210632ead3653e6e12dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88715f96ff8e14c3c83b4f976ad147b4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a88715f96ff8e14c3c83b4f976ad147b4">rsmake</a></td></tr>
<tr class="memdesc:a88715f96ff8e14c3c83b4f976ad147b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the rescaling factors for the coordinate transformation in parameter space.  <a href="#a88715f96ff8e14c3c83b4f976ad147b4"></a><br/></td></tr>
<tr class="separator:a88715f96ff8e14c3c83b4f976ad147b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf0ce8fc4e9fbf5257f93d14d4a4f10f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#acf0ce8fc4e9fbf5257f93d14d4a4f10f">mktransmat</a></td></tr>
<tr class="memdesc:acf0ce8fc4e9fbf5257f93d14d4a4f10f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the transformation matrix to rescale and rotate the mathematical parameters.  <a href="#acf0ce8fc4e9fbf5257f93d14d4a4f10f"></a><br/></td></tr>
<tr class="separator:acf0ce8fc4e9fbf5257f93d14d4a4f10f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0046446695a65cb2489fdb560ef5929"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#ac0046446695a65cb2489fdb560ef5929">list_map</a></td></tr>
<tr class="memdesc:ac0046446695a65cb2489fdb560ef5929"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the plist, which is like a reversed version of the parameter map.  <a href="#ac0046446695a65cb2489fdb560ef5929"></a><br/></td></tr>
<tr class="separator:ac0046446695a65cb2489fdb560ef5929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61082e99cb3a02e35c80bbea919eaafa"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a61082e99cb3a02e35c80bbea919eaafa">print_map</a></td></tr>
<tr class="memdesc:a61082e99cb3a02e35c80bbea919eaafa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints out the (physical or mathematical) parameter indices, IDs and values in a visually appealing way.  <a href="#a61082e99cb3a02e35c80bbea919eaafa"></a><br/></td></tr>
<tr class="separator:a61082e99cb3a02e35c80bbea919eaafa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3af07734a2378364ed533e2853ee6b82"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a3af07734a2378364ed533e2853ee6b82">assign_p0</a></td></tr>
<tr class="memdesc:a3af07734a2378364ed533e2853ee6b82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assign physical parameter values to the 'pvals0' array.  <a href="#a3af07734a2378364ed533e2853ee6b82"></a><br/></td></tr>
<tr class="separator:a3af07734a2378364ed533e2853ee6b82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c9cda9adb5a6446fbccfa7b35f8dff5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a2c9cda9adb5a6446fbccfa7b35f8dff5">assign_field</a></td></tr>
<tr class="memdesc:a2c9cda9adb5a6446fbccfa7b35f8dff5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Record the locations of a parameter in a txt file; [[file name, line number, field number, and multiplier]].  <a href="#a2c9cda9adb5a6446fbccfa7b35f8dff5"></a><br/></td></tr>
<tr class="separator:a2c9cda9adb5a6446fbccfa7b35f8dff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e7047c4b41a755c24996c9e1619df0b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a8e7047c4b41a755c24996c9e1619df0b">__eq__</a></td></tr>
<tr class="separator:a8e7047c4b41a755c24996c9e1619df0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classforcebalance_1_1baseclass_1_1ForceBalanceBaseClass"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classforcebalance_1_1baseclass_1_1ForceBalanceBaseClass')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classforcebalance_1_1baseclass_1_1ForceBalanceBaseClass.html">forcebalance.baseclass.ForceBalanceBaseClass</a></td></tr>
<tr class="memitem:ae45042977c2803fce9830ce2196453a7 inherit pub_methods_classforcebalance_1_1baseclass_1_1ForceBalanceBaseClass"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1baseclass_1_1ForceBalanceBaseClass.html#ae45042977c2803fce9830ce2196453a7">__init__</a></td></tr>
<tr class="separator:ae45042977c2803fce9830ce2196453a7 inherit pub_methods_classforcebalance_1_1baseclass_1_1ForceBalanceBaseClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaaf4d99b043d41f02fabc41db59252b inherit pub_methods_classforcebalance_1_1baseclass_1_1ForceBalanceBaseClass"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1baseclass_1_1ForceBalanceBaseClass.html#abaaf4d99b043d41f02fabc41db59252b">set_option</a></td></tr>
<tr class="separator:abaaf4d99b043d41f02fabc41db59252b inherit pub_methods_classforcebalance_1_1baseclass_1_1ForceBalanceBaseClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aa33e01455044a76e265e6eafbf9c90d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#aa33e01455044a76e265e6eafbf9c90d6">ffdata</a></td></tr>
<tr class="memdesc:aa33e01455044a76e265e6eafbf9c90d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">As these options proliferate, the force field class becomes less standalone.  <a href="#aa33e01455044a76e265e6eafbf9c90d6"></a><br/></td></tr>
<tr class="separator:aa33e01455044a76e265e6eafbf9c90d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af942210095e12b4995a64ca461cd5d76"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#af942210095e12b4995a64ca461cd5d76">ffdata_isxml</a></td></tr>
<tr class="separator:af942210095e12b4995a64ca461cd5d76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adac6add3391d052c319902ccc8e0a617"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#adac6add3391d052c319902ccc8e0a617">map</a></td></tr>
<tr class="memdesc:adac6add3391d052c319902ccc8e0a617"><td class="mdescLeft">&#160;</td><td class="mdescRight">The mapping of interaction type -&gt; parameter number.  <a href="#adac6add3391d052c319902ccc8e0a617"></a><br/></td></tr>
<tr class="separator:adac6add3391d052c319902ccc8e0a617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72d2a63abbeae0b783a1e3e4077b3ab1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a72d2a63abbeae0b783a1e3e4077b3ab1">plist</a></td></tr>
<tr class="memdesc:a72d2a63abbeae0b783a1e3e4077b3ab1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The listing of parameter number -&gt; interaction types.  <a href="#a72d2a63abbeae0b783a1e3e4077b3ab1"></a><br/></td></tr>
<tr class="separator:a72d2a63abbeae0b783a1e3e4077b3ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b22e1846666d6f704e0620413a95d14"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a3b22e1846666d6f704e0620413a95d14">patoms</a></td></tr>
<tr class="memdesc:a3b22e1846666d6f704e0620413a95d14"><td class="mdescLeft">&#160;</td><td class="mdescRight">A listing of parameter number -&gt; atoms involved.  <a href="#a3b22e1846666d6f704e0620413a95d14"></a><br/></td></tr>
<tr class="separator:a3b22e1846666d6f704e0620413a95d14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f5c9c11cd2f164a2ff6e310c1bc79f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a8f5c9c11cd2f164a2ff6e310c1bc79f1">pfields</a></td></tr>
<tr class="memdesc:a8f5c9c11cd2f164a2ff6e310c1bc79f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list where pfields[pnum] = ['file',line,field,mult,cmd], basically a new way to modify force field files; when we modify the force field file, we go to the specific line/field in a given file and change the number.  <a href="#a8f5c9c11cd2f164a2ff6e310c1bc79f1"></a><br/></td></tr>
<tr class="separator:a8f5c9c11cd2f164a2ff6e310c1bc79f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf33c8285b56b92510b5572448c3358e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#acf33c8285b56b92510b5572448c3358e">rs</a></td></tr>
<tr class="memdesc:acf33c8285b56b92510b5572448c3358e"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of rescaling factors.  <a href="#acf33c8285b56b92510b5572448c3358e"></a><br/></td></tr>
<tr class="separator:acf33c8285b56b92510b5572448c3358e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf4763b05f3c1f7762d5c4d656ad106a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#aaf4763b05f3c1f7762d5c4d656ad106a">tm</a></td></tr>
<tr class="memdesc:aaf4763b05f3c1f7762d5c4d656ad106a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The transformation matrix for mathematical -&gt; physical parameters.  <a href="#aaf4763b05f3c1f7762d5c4d656ad106a"></a><br/></td></tr>
<tr class="separator:aaf4763b05f3c1f7762d5c4d656ad106a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a288d2514106e171af1d0e31311f97a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a3a288d2514106e171af1d0e31311f97a">tmI</a></td></tr>
<tr class="memdesc:a3a288d2514106e171af1d0e31311f97a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The transpose of the transformation matrix.  <a href="#a3a288d2514106e171af1d0e31311f97a"></a><br/></td></tr>
<tr class="separator:a3a288d2514106e171af1d0e31311f97a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad573c583207080fa66592bcbf788cbad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#ad573c583207080fa66592bcbf788cbad">excision</a></td></tr>
<tr class="memdesc:ad573c583207080fa66592bcbf788cbad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indices to exclude from optimization / Hessian inversion.  <a href="#ad573c583207080fa66592bcbf788cbad"></a><br/></td></tr>
<tr class="separator:ad573c583207080fa66592bcbf788cbad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19eb80acc94a49f9ff806f13a95fef66"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a19eb80acc94a49f9ff806f13a95fef66">np</a></td></tr>
<tr class="memdesc:a19eb80acc94a49f9ff806f13a95fef66"><td class="mdescLeft">&#160;</td><td class="mdescRight">The total number of parameters.  <a href="#a19eb80acc94a49f9ff806f13a95fef66"></a><br/></td></tr>
<tr class="separator:a19eb80acc94a49f9ff806f13a95fef66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfa4068ac91d195f89e65d6d725bb082"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#acfa4068ac91d195f89e65d6d725bb082">pvals0</a></td></tr>
<tr class="memdesc:acfa4068ac91d195f89e65d6d725bb082"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial value of physical parameters.  <a href="#acfa4068ac91d195f89e65d6d725bb082"></a><br/></td></tr>
<tr class="separator:acfa4068ac91d195f89e65d6d725bb082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9db381836dba8b531ff7d45dce877f4f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a9db381836dba8b531ff7d45dce877f4f">Readers</a></td></tr>
<tr class="memdesc:a9db381836dba8b531ff7d45dce877f4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A dictionary of force field reader classes.  <a href="#a9db381836dba8b531ff7d45dce877f4f"></a><br/></td></tr>
<tr class="separator:a9db381836dba8b531ff7d45dce877f4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae18c15606b40f8c417cbfd6129554793"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#ae18c15606b40f8c417cbfd6129554793">atomnames</a></td></tr>
<tr class="memdesc:ae18c15606b40f8c417cbfd6129554793"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list of atom names (this is new, for ESP fitting)  <a href="#ae18c15606b40f8c417cbfd6129554793"></a><br/></td></tr>
<tr class="separator:ae18c15606b40f8c417cbfd6129554793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38e238188fdd105477cd3ad38ca3753b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a38e238188fdd105477cd3ad38ca3753b">FFAtomTypes</a></td></tr>
<tr class="memdesc:a38e238188fdd105477cd3ad38ca3753b"><td class="mdescLeft">&#160;</td><td class="mdescRight">WORK IN PROGRESS ## This is a dictionary of {'AtomType':{'Mass' : float, 'Charge' : float, 'ParticleType' : string ('A', 'S', or 'D'), 'AtomicNumber' : int}}.  <a href="#a38e238188fdd105477cd3ad38ca3753b"></a><br/></td></tr>
<tr class="separator:a38e238188fdd105477cd3ad38ca3753b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5ba15f51599b631b9be90cda847f1d9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#aa5ba15f51599b631b9be90cda847f1d9">FFMolecules</a></td></tr>
<tr class="separator:aa5ba15f51599b631b9be90cda847f1d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada9b82220eb6e6335a36617dd5746695"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#ada9b82220eb6e6335a36617dd5746695">redirect</a></td></tr>
<tr class="memdesc:ada9b82220eb6e6335a36617dd5746695"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates plist from map.  <a href="#ada9b82220eb6e6335a36617dd5746695"></a><br/></td></tr>
<tr class="separator:ada9b82220eb6e6335a36617dd5746695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4f1adc1fc16e922c98145553ac5b67f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#aa4f1adc1fc16e922c98145553ac5b67f">linedestroy_save</a></td></tr>
<tr class="memdesc:aa4f1adc1fc16e922c98145553ac5b67f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruction dictionary (experimental).  <a href="#aa4f1adc1fc16e922c98145553ac5b67f"></a><br/></td></tr>
<tr class="separator:aa4f1adc1fc16e922c98145553ac5b67f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dd353f36f7a9f99f3355068c0bc73ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a4dd353f36f7a9f99f3355068c0bc73ce">parmdestroy_save</a></td></tr>
<tr class="separator:a4dd353f36f7a9f99f3355068c0bc73ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2ca57079cb49527775d044a2b2db6db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#ab2ca57079cb49527775d044a2b2db6db">linedestroy_this</a></td></tr>
<tr class="separator:ab2ca57079cb49527775d044a2b2db6db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8644a3a48cef3af380d8e9af3584474f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a8644a3a48cef3af380d8e9af3584474f">parmdestroy_this</a></td></tr>
<tr class="separator:a8644a3a48cef3af380d8e9af3584474f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62aa95ac960282ccae808ba05e3ecda1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a62aa95ac960282ccae808ba05e3ecda1">tinkerprm</a></td></tr>
<tr class="separator:a62aa95ac960282ccae808ba05e3ecda1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed4d7b3f12f4264b8a5afd70cffe80dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#aed4d7b3f12f4264b8a5afd70cffe80dc">openmmxml</a></td></tr>
<tr class="separator:aed4d7b3f12f4264b8a5afd70cffe80dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20352a24f2babfbf1ca4dd3d51f1483b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#a20352a24f2babfbf1ca4dd3d51f1483b">qmap</a></td></tr>
<tr class="separator:a20352a24f2babfbf1ca4dd3d51f1483b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef61d1ce1a5e9f46b9c1c779dc7c8ebe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#aef61d1ce1a5e9f46b9c1c779dc7c8ebe">qid</a></td></tr>
<tr class="separator:aef61d1ce1a5e9f46b9c1c779dc7c8ebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe794c7ed53eb15547b29e04917153a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1forcefield_1_1FF.html#abe794c7ed53eb15547b29e04917153a9">qid2</a></td></tr>
<tr class="separator:abe794c7ed53eb15547b29e04917153a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classforcebalance_1_1baseclass_1_1ForceBalanceBaseClass"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classforcebalance_1_1baseclass_1_1ForceBalanceBaseClass')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classforcebalance_1_1baseclass_1_1ForceBalanceBaseClass.html">forcebalance.baseclass.ForceBalanceBaseClass</a></td></tr>
<tr class="memitem:a5c55e661e746d1a4443f4e0bc34ebe05 inherit pub_attribs_classforcebalance_1_1baseclass_1_1ForceBalanceBaseClass"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1baseclass_1_1ForceBalanceBaseClass.html#a5c55e661e746d1a4443f4e0bc34ebe05">PrintOptionDict</a></td></tr>
<tr class="separator:a5c55e661e746d1a4443f4e0bc34ebe05 inherit pub_attribs_classforcebalance_1_1baseclass_1_1ForceBalanceBaseClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8088e1e20cbd6bc175fb9c9fe9fa0f18 inherit pub_attribs_classforcebalance_1_1baseclass_1_1ForceBalanceBaseClass"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classforcebalance_1_1baseclass_1_1ForceBalanceBaseClass.html#a8088e1e20cbd6bc175fb9c9fe9fa0f18">verbose_options</a></td></tr>
<tr class="separator:a8088e1e20cbd6bc175fb9c9fe9fa0f18 inherit pub_attribs_classforcebalance_1_1baseclass_1_1ForceBalanceBaseClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Force field class. </p>
<p>This class contains all methods for force field manipulation. To create an instance of this class, an input file is required containing the list of force field file names. Everything else inside this class pertaining to force field generation is self-contained.</p>
<p>For details on force field parsing, see the detailed documentation for addff. </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00194">194</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aef2e183571128eea70132c7be2a8dc5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def forcebalance.forcefield.FF.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Instantiation of force field class. </p>
<p>Many variables here are initialized to zero, but they are filled out by methods like addff, rsmake, and mktransmat. </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00202">202</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classforcebalance_1_1forcefield_1_1FF_aef2e183571128eea70132c7be2a8dc5d_cgraph.svg" width="387" height="54"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a8e7047c4b41a755c24996c9e1619df0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def forcebalance.forcefield.FF.__eq__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l01144">1144</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="a142d41c86b9b0ef57f93ec6fb349357b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def forcebalance.forcefield.FF.addff </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ffname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse a force field file and add it to the class. </p>
<p>First, figure out the type of force field file. This is done either by explicitly specifying the type using for example, <code> ffname force_field.xml:openmm </code> or we figure it out by looking at the file extension.</p>
<p>Next, parse the file. Currently we support two classes of files - text and XML. The two types are treated very differently; for XML we use the parsers in libxml (via the python lxml module), and for text files we have our own in-house parsing class. Within text files, there is also a specialized GROMACS and TINKER parser as well as a generic text parser.</p>
<p>The job of the parser is to determine the following things: 1) Read the user-specified selection of parameters being fitted 2) Build a mapping (dictionary) of <code> parameter identifier -&gt; index in parameter vector </code> 3) Build a list of physical parameter values 4) Figure out where to replace the parameter values in the force field file when the values are changed 5) Figure out which parameters need to be repeated or sign-flipped</p>
<p>Generally speaking, each parameter value in the force field file has a <code> unique parameter identifier <code>. The identifier consists of three parts - the interaction type, the parameter subtype (within that interaction type), and the atoms involved.</code></code></p>
<p><code><code> &mdash; If XML: &mdash;</code></code></p>
<p><code><code> The force field file is read in using the lxml Python module. Specify which parameter you want to fit using by adding a 'parameterize' element to the end of the force field XML file, like so.</code></code></p>
<p><code><code> </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;AmoebaVdwForce type=<span class="stringliteral">&quot;BUFFERED-14-7&quot;</span>&gt;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;   &lt;Vdw <span class="keyword">class</span>=<span class="stringliteral">&quot;74&quot;</span> sigma=<span class="stringliteral">&quot;0.2655&quot;</span> epsilon=<span class="stringliteral">&quot;0.056484&quot;</span> reduction=<span class="stringliteral">&quot;0.910&quot;</span> parameterize=<span class="stringliteral">&quot;sigma, epsilon, reduction&quot;</span> /&gt; </div>
</div><!-- fragment --><p></code></code></p>
<p><code><code> In this example, the parameter identifier would look like <code> Vdw/74/epsilon </code>.</code></code></p>
<p><code><code> &mdash; If GROMACS (.itp) or TINKER (.prm) : &mdash;</code></code></p>
<p><code><code> Follow the rules in the ITP_Reader or Tinker_Reader derived class. Read the documentation in the class documentation or the 'feed' method to learn more. In all cases the parameter is tagged using <code> # PARM 3 </code> (where # denotes a comment, the word PARM stays the same, and 3 is the field number starting from zero.)</code></code></p>
<p><code><code> &mdash; If normal text : &mdash;</code></code></p>
<p><code><code> The parameter identifier is simply built using the file name, line number, and field. Thus, the identifier is unique but completely noninformative (which is not ideal for our purposes, but it works.)</code></code></p>
<p><code><code> &mdash; Endif &mdash;</code></code></p>
<p><code><code> </p>
<dl class="section warning"><dt>Warning</dt><dd>My program currently assumes that we are only using one MM program per job. If we use CHARMM and GROMACS to perform simulations as part of the same TARGET, we will get messed up. Maybe this needs to be fixed in the future, with program prefixes to parameters like C_ , G_ .. or simply unit conversions, you get the idea.</dd>
<dd>
I don't think the multiplier actually works for analytic derivatives unless the interaction calculator knows the multiplier as well. I'm sure I can make this work in the future if necessary.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ffname</td><td>Name of the force field file </td></tr>
  </table>
  </dd>
</dl>
<p></code></code></p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00393">393</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classforcebalance_1_1forcefield_1_1FF_a142d41c86b9b0ef57f93ec6fb349357b_cgraph.svg" width="614" height="54"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab4b5d5b79c89ab618ae968348bdfda3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def forcebalance.forcefield.FF.addff_txt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ffname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fftype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse a text force field and create several important instance variables. </p>
<p>Each line is processed using the 'feed' method as implemented in the reader class. This essentially allows us to create the correct parameter identifier (pid), because the pid comes from more than the current line, it also depends on the section that we're in.</p>
<p>When 'PARM' or 'RPT' is encountered, we do several things:</p>
<ul>
<li>Build the parameter identifier and insert it into the map</li>
<li>Point to the file name, line number, and field where the parameter may be modified</li>
</ul>
<p>Additionally, when 'PARM' is encountered:</p>
<ul>
<li>Store the physical parameter value (this is permanent; it's the original value)</li>
<li>Increment the total number of parameters</li>
</ul>
<p>When 'RPT' is encountered we don't expand the parameter vector because this parameter is a copy of an existing one. If the parameter identifier is preceded by MINUS_, we chop off the prefix but remember that the sign needs to be flipped. </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00463">463</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classforcebalance_1_1forcefield_1_1FF_ab4b5d5b79c89ab618ae968348bdfda3a_cgraph.svg" width="3136" height="631"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaed8b2b725141c301f58016c80acec27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def forcebalance.forcefield.FF.addff_xml </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ffname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse an XML force field file and create important instance variables. </p>
<p>This was modeled after addff_txt, but XML and text files are fundamentally different, necessitating two different methods.</p>
<p>We begin with an _ElementTree object. We search through the tree for the 'parameterize' and 'parameter_repeat' keywords. Each time the keyword is encountered, we do the same four actions that I describe in addff_txt.</p>
<p>It's hard to specify precisely the location in an XML file to change a force field parameter. I can create a list of tree elements (essentially pointers to elements within a tree), but this method breaks down when I copy the tree because I have no way to refer to the copied tree elements. Fortunately, lxml gives me a way to represent a tree using a flat list, and my XML file 'locations' are represented using the positions in the list.</p>
<dl class="section warning"><dt>Warning</dt><dd>The sign-flip hasn't been implemented yet. This shouldn't matter unless your calculation contains repeated parameters with opposite sign. </dd></dl>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00571">571</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classforcebalance_1_1forcefield_1_1FF_aaed8b2b725141c301f58016c80acec27_cgraph.svg" width="2939" height="586"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2c9cda9adb5a6446fbccfa7b35f8dff5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def forcebalance.forcefield.FF.assign_field </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fnm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pfld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mult</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cmd</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Record the locations of a parameter in a txt file; [[file name, line number, field number, and multiplier]]. </p>
<p>Note that parameters can have multiple locations because of the repetition functionality.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">idx</td><td>The index of the parameter. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fnm</td><td>The file name of the parameter field. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ln</td><td>The line number within the file (or the node index in the flattened xml) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pfld</td><td>The field within the line (or the name of the attribute in the xml) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mult</td><td>The multiplier (this is usually 1.0) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l01138">1138</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classforcebalance_1_1forcefield_1_1FF_a2c9cda9adb5a6446fbccfa7b35f8dff5_cgraph.svg" width="366" height="54"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3af07734a2378364ed533e2853ee6b82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def forcebalance.forcefield.FF.assign_p0 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assign physical parameter values to the 'pvals0' array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">idx</td><td>The index to which we assign the parameter value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">val</td><td>The parameter value to be inserted. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l01120">1120</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classforcebalance_1_1forcefield_1_1FF_a3af07734a2378364ed533e2853ee6b82_cgraph.svg" width="358" height="54"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae5fba4d3e22f210632ead3653e6e12dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def forcebalance.forcefield.FF.create_mvals </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pvals</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts physical to mathematical parameters. </p>
<p>We create the inverse transformation matrix using SVD.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pvals</td><td>The physical parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mvals The mathematical parameters </dd></dl>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00854">854</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classforcebalance_1_1forcefield_1_1FF_ae5fba4d3e22f210632ead3653e6e12dd_cgraph.svg" width="603" height="54"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a260031479e0429e497f56987de541930"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def forcebalance.forcefield.FF.create_pvals </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mvals</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts mathematical to physical parameters. </p>
<p>First, mathematical parameters are rescaled and rotated by multiplying by the transformation matrix, followed by adding the original physical parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mvals</td><td>The mathematical parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pvals The physical parameters </dd></dl>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00817">817</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classforcebalance_1_1forcefield_1_1FF_a260031479e0429e497f56987de541930_cgraph.svg" width="2150" height="510"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2515e2361eb460edeab69f3d7742d3d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def forcebalance.forcefield.FF.find_spacings </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00772">772</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classforcebalance_1_1forcefield_1_1FF_a2515e2361eb460edeab69f3d7742d3d9_cgraph.svg" width="2347" height="510"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac0046446695a65cb2489fdb560ef5929"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def forcebalance.forcefield.FF.list_map </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create the plist, which is like a reversed version of the parameter map. </p>
<p>More convenient for printing. </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l01097">1097</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classforcebalance_1_1forcefield_1_1FF_ac0046446695a65cb2489fdb560ef5929_cgraph.svg" width="584" height="106"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aecd595ddb369aedd7009e6756276ffc5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def forcebalance.forcefield.FF.make </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>use_pvals</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>printdir</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>precision</em> = <code>12</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new force field using provided parameter values. </p>
<p>This big kahuna does a number of things: 1) Creates the physical parameters from the mathematical parameters 2) Creates force fields with physical parameters substituted in 3) Prints the force fields to the specified file.</p>
<p>It does NOT store the mathematical parameters in the class state (since we can only hold one set of parameters).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">printdir</td><td>The directory that the force fields are printed to; as usual this is relative to the project root directory. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vals</td><td>Input parameters. I previously had an option where it uses stored values in the class state, but I don't think that's a good idea anymore. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">use_pvals</td><td>Switch for whether to bypass the coordinate transformation and use physical parameters directly. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00619">619</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classforcebalance_1_1forcefield_1_1FF_aecd595ddb369aedd7009e6756276ffc5_cgraph.svg" width="2742" height="560"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0540c3df2c0dece9f2711cc04fd958d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def forcebalance.forcefield.FF.make_redirect </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mvals</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00731">731</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classforcebalance_1_1forcefield_1_1FF_a0540c3df2c0dece9f2711cc04fd958d4_cgraph.svg" width="2544" height="508"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="acf0ce8fc4e9fbf5257f93d14d4a4f10f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def forcebalance.forcefield.FF.mktransmat </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create the transformation matrix to rescale and rotate the mathematical parameters. </p>
<p>For point charge parameters, project out perturbations that change the total charge.</p>
<p>First build these:</p>
<p>'qmap' : Just a list of parameter indices that point to charges.</p>
<p>'qid' : For each parameter in the qmap, a list of the affected atoms :) A potential target for the molecule-specific thang.</p>
<p>Then make this:</p>
<p>'qtrans2' : A transformation matrix that rotates the charge parameters. The first row is all zeros (because it corresponds to increasing the charge on all atoms) The other rows correspond to changing one of the parameters and decreasing all of the others equally such that the overall charge is preserved.</p>
<p>'qmat2' : An identity matrix with 'qtrans2' pasted into the right place</p>
<p>'transmat': 'qmat2' with rows and columns scaled using self.rs</p>
<p>'excision': Parameter indices that need to be 'cut out' because they are irrelevant and mess with the matrix diagonalization</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd><p class="startdd">Only project out changes in total charge of a molecule, and perhaps generalize to fragments of molecules or other types of parameters. </p>
<p class="enddd">The AMOEBA selection of charge depends not only on the atom type, but what that atom is bonded to. </p>
</dd></dl>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00947">947</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="a61082e99cb3a02e35c80bbea919eaafa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def forcebalance.forcefield.FF.print_map </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vals</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>precision</em> = <code>4</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints out the (physical or mathematical) parameter indices, IDs and values in a visually appealing way. </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l01109">1109</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classforcebalance_1_1forcefield_1_1FF_a61082e99cb3a02e35c80bbea919eaafa_cgraph.svg" width="563" height="54"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a88715f96ff8e14c3c83b4f976ad147b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def forcebalance.forcefield.FF.rsmake </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>printfacs</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create the rescaling factors for the coordinate transformation in parameter space. </p>
<p>The proper choice of rescaling factors (read: prior widths in maximum likelihood analysis) is still a black art. This is a topic of current research.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000009">Todo:</a></b></dt><dd>Pass in rsfactors through the input file</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">printfacs</td><td>List for printing out the resecaling factors </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00871">871</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classforcebalance_1_1forcefield_1_1FF_a88715f96ff8e14c3c83b4f976ad147b4_cgraph.svg" width="2163" height="222"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ae18c15606b40f8c417cbfd6129554793"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.atomnames</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A list of atom names (this is new, for ESP fitting) </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00263">263</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="ad573c583207080fa66592bcbf788cbad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.excision</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indices to exclude from optimization / Hessian inversion. </p>
<p>Some customized constraints here.</p>
<p>Quadrupoles must be traceless </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00255">255</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="a38e238188fdd105477cd3ad38ca3753b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.FFAtomTypes</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>WORK IN PROGRESS ## This is a dictionary of {'AtomType':{'Mass' : float, 'Charge' : float, 'ParticleType' : string ('A', 'S', or 'D'), 'AtomicNumber' : int}}. </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00273">273</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="aa33e01455044a76e265e6eafbf9c90d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.ffdata</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>As these options proliferate, the force field class becomes less standalone. </p>
<p>I need to think of a good solution here... The root directory of the project File names of force fields Directory containing force fields, relative to project directory Priors given by the user :) Whether to constrain the charges. Whether to constrain the charges. Switch for AMOEBA direct or mutual. Switch for rigid water molecules Bypass the transformation and use physical parameters directly The content of all force field files are stored in memory </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00235">235</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="af942210095e12b4995a64ca461cd5d76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.ffdata_isxml</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00236">236</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="aa5ba15f51599b631b9be90cda847f1d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.FFMolecules</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00286">286</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="aa4f1adc1fc16e922c98145553ac5b67f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.linedestroy_save</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destruction dictionary (experimental). </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00314">314</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="ab2ca57079cb49527775d044a2b2db6db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.linedestroy_this</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00316">316</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="adac6add3391d052c319902ccc8e0a617"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.map</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The mapping of interaction type -&gt; parameter number. </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00238">238</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="a19eb80acc94a49f9ff806f13a95fef66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.np</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The total number of parameters. </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00257">257</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="aed4d7b3f12f4264b8a5afd70cffe80dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.openmmxml</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00409">409</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="a4dd353f36f7a9f99f3355068c0bc73ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.parmdestroy_save</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00315">315</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="a8644a3a48cef3af380d8e9af3584474f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.parmdestroy_this</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00317">317</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="a3b22e1846666d6f704e0620413a95d14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.patoms</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A listing of parameter number -&gt; atoms involved. </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00242">242</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="a8f5c9c11cd2f164a2ff6e310c1bc79f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.pfields</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A list where pfields[pnum] = ['file',line,field,mult,cmd], basically a new way to modify force field files; when we modify the force field file, we go to the specific line/field in a given file and change the number. </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00247">247</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="a72d2a63abbeae0b783a1e3e4077b3ab1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.plist</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The listing of parameter number -&gt; interaction types. </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00240">240</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="acfa4068ac91d195f89e65d6d725bb082"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.pvals0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initial value of physical parameters. </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00259">259</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="aef61d1ce1a5e9f46b9c1c779dc7c8ebe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.qid</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00949">949</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="abe794c7ed53eb15547b29e04917153a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.qid2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00950">950</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="a20352a24f2babfbf1ca4dd3d51f1483b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.qmap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00948">948</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="a9db381836dba8b531ff7d45dce877f4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.Readers</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A dictionary of force field reader classes. </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00261">261</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="ada9b82220eb6e6335a36617dd5746695"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.redirect</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates plist from map. </p>
<p>Prints the plist to screen. Make the rescaling factors. Make the transformation matrix. Redirection dictionary (experimental). </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00312">312</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="acf33c8285b56b92510b5572448c3358e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.rs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of rescaling factors. </p>
<p>Takes the dictionary 'BONDS':{3:'B', 4:'K'}, 'VDW':{4:'S', 5:'T'}, and turns it into a list of term types ['BONDSB','BONDSK','VDWS','VDWT'].</p>
<p>The array of rescaling factors </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00249">249</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="a62aa95ac960282ccae808ba05e3ecda1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.tinkerprm</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00402">402</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="aaf4763b05f3c1f7762d5c4d656ad106a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.tm</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The transformation matrix for mathematical -&gt; physical parameters. </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00251">251</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<a class="anchor" id="a3a288d2514106e171af1d0e31311f97a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forcebalance.forcefield.FF.tmI</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The transpose of the transformation matrix. </p>

<p>Definition at line <a class="el" href="forcefield_8py_source.html#l00253">253</a> of file <a class="el" href="forcefield_8py_source.html">forcefield.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="forcefield_8py_source.html">forcefield.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 4 2013 17:53:56 for ForceBalance API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
